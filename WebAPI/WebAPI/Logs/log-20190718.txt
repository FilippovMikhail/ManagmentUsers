2019-07-18T14:17:32.1994819+03:00  [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:17:32.3752801+03:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2019-07-18T14:17:32.5585216+03:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:17:32.6288846+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:17:32.6313449+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:17:32.6322549+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:17:32.6561323+03:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:17:32.6922472+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:17:32.6932705+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:17:32.7189647+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:17:32.9615287+03:00 0HLOBE63NTN71:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/values   (ca22a1cb)
2019-07-18T14:17:33.2015191+03:00 0HLOBE63NTN71:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Values\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "WebAPI.Controllers.ValuesController" ("WebAPI"). (122b2fdf)
2019-07-18T14:17:33.2224614+03:00 0HLOBE63NTN71:00000001 [INF] Authorization failed. (b15dd539)
2019-07-18T14:17:33.2232067+03:00 0HLOBE63NTN71:00000001 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2019-07-18T14:17:33.2334088+03:00 0HLOBE63NTN71:00000001 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2019-07-18T14:17:33.2407244+03:00 0HLOBE63NTN71:00000001 [INF] AuthenticationScheme: "Bearer" was challenged. (d45f1f38)
2019-07-18T14:17:33.2456894+03:00 0HLOBE63NTN71:00000001 [INF] Executed action "WebAPI.Controllers.ValuesController.Get (WebAPI)" in 37.7779ms (afa2e885)
2019-07-18T14:17:33.2570979+03:00 0HLOBE63NTN71:00000001 [INF] Request finished in 296.7766ms 401  (791a596a)
2019-07-18T14:17:41.6954907+03:00 0HLOBE63NTN71:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:17:41.6968223+03:00 0HLOBE63NTN71:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:41.6976002+03:00 0HLOBE63NTN71:00000002 [INF] Request finished in 2.1675ms 204  (791a596a)
2019-07-18T14:17:41.7029179+03:00 0HLOBE63NTN71:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:17:41.7040967+03:00 0HLOBE63NTN71:00000003 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:17:41.7042024+03:00 0HLOBE63NTN71:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:41.7265125+03:00 0HLOBE63NTN71:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:17:41.8112271+03:00 0HLOBE63NTN71:00000003 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:17:41.8150960+03:00 0HLOBE63NTN71:00000003 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:17:41.8172496+03:00 0HLOBE63NTN71:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:17:41.8365010+03:00 0HLOBE63NTN71:00000003 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T14:17:41.8828597+03:00 0HLOBE63NTN71:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:17:41.8941384+03:00 0HLOBE63NTN71:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:17:41.9118317+03:00 0HLOBE63NTN71:00000003 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 96.5774ms. (50a9e262)
2019-07-18T14:17:41.9205987+03:00 0HLOBE63NTN71:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:17:41.9378607+03:00 0HLOBE63NTN71:00000003 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 211.2115ms (afa2e885)
2019-07-18T14:17:41.9439093+03:00 0HLOBE63NTN71:00000003 [INF] Request finished in 241.0434ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:17:41.9625221+03:00 0HLOBE63NTN71:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:17:41.9627392+03:00 0HLOBE63NTN71:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:41.9629242+03:00 0HLOBE63NTN71:00000004 [INF] Request finished in 0.4785ms 204  (791a596a)
2019-07-18T14:17:41.9718174+03:00 0HLOBE63NTN71:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:17:41.9807623+03:00 0HLOBE63NTN71:00000005 [INF] Successfully validated the token. (60169667)
2019-07-18T14:17:41.9813054+03:00 0HLOBE63NTN71:00000005 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:41.9833257+03:00 0HLOBE63NTN71:00000005 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:17:41.9847600+03:00 0HLOBE63NTN71:00000005 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:17:41.9854184+03:00 0HLOBE63NTN71:00000005 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:17:41.9869834+03:00 0HLOBE63NTN71:00000005 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:17:41.9977197+03:00 0HLOBE63NTN71:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:17:42.0236721+03:00 0HLOBE63NTN71:00000005 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.1198ms. (50a9e262)
2019-07-18T14:17:42.0241335+03:00 0HLOBE63NTN71:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:17:42.0304867+03:00 0HLOBE63NTN71:00000005 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 47.0121ms (afa2e885)
2019-07-18T14:17:42.0306415+03:00 0HLOBE63NTN71:00000005 [INF] Request finished in 58.8759ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:17:55.7464825+03:00 0HLOBE63NTN71:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:17:55.7476412+03:00 0HLOBE63NTN71:00000006 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:55.7479356+03:00 0HLOBE63NTN71:00000006 [INF] Request finished in 1.6026ms 204  (791a596a)
2019-07-18T14:17:55.7591906+03:00 0HLOBE63NTN71:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:17:55.7595025+03:00 0HLOBE63NTN71:00000007 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:17:55.7595598+03:00 0HLOBE63NTN71:00000007 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:55.7598598+03:00 0HLOBE63NTN71:00000007 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:17:55.7615821+03:00 0HLOBE63NTN71:00000007 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:17:55.7620243+03:00 0HLOBE63NTN71:00000007 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:17:55.7648834+03:00 0HLOBE63NTN71:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:17:55.7802429+03:00 0HLOBE63NTN71:00000007 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T14:17:55.7818672+03:00 0HLOBE63NTN71:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:17:55.7832499+03:00 0HLOBE63NTN71:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:17:55.7839385+03:00 0HLOBE63NTN71:00000007 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.2559ms. (50a9e262)
2019-07-18T14:17:55.7840962+03:00 0HLOBE63NTN71:00000007 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:17:55.7844506+03:00 0HLOBE63NTN71:00000007 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 24.5084ms (afa2e885)
2019-07-18T14:17:55.7846104+03:00 0HLOBE63NTN71:00000007 [INF] Request finished in 26.058ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:17:55.7969651+03:00 0HLOBE63NTN71:00000008 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:17:55.7971775+03:00 0HLOBE63NTN71:00000008 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:55.7973090+03:00 0HLOBE63NTN71:00000008 [INF] Request finished in 0.413ms 204  (791a596a)
2019-07-18T14:17:55.8028454+03:00 0HLOBE63NTN71:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:17:55.8036019+03:00 0HLOBE63NTN71:00000009 [INF] Successfully validated the token. (60169667)
2019-07-18T14:17:55.8037936+03:00 0HLOBE63NTN71:00000009 [INF] Policy execution successful. (0204925d)
2019-07-18T14:17:55.8039389+03:00 0HLOBE63NTN71:00000009 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:17:55.8040782+03:00 0HLOBE63NTN71:00000009 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:17:55.8045475+03:00 0HLOBE63NTN71:00000009 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:17:55.8050550+03:00 0HLOBE63NTN71:00000009 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:17:55.8060088+03:00 0HLOBE63NTN71:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:17:55.8064132+03:00 0HLOBE63NTN71:00000009 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7874ms. (50a9e262)
2019-07-18T14:17:55.8065058+03:00 0HLOBE63NTN71:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:17:55.8067235+03:00 0HLOBE63NTN71:00000009 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 2.7287ms (afa2e885)
2019-07-18T14:17:55.8068305+03:00 0HLOBE63NTN71:00000009 [INF] Request finished in 4.0471ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:19:00.6779695+03:00 0HLOBE63NTN72:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:19:00.6784499+03:00 0HLOBE63NTN72:00000001 [INF] Policy execution successful. (0204925d)
2019-07-18T14:19:00.6786680+03:00 0HLOBE63NTN72:00000001 [INF] Request finished in 0.8392ms 204  (791a596a)
2019-07-18T14:19:00.7012293+03:00 0HLOBE63NTN72:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:19:00.7014260+03:00 0HLOBE63NTN72:00000002 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:19:00.7014796+03:00 0HLOBE63NTN72:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T14:19:00.7016921+03:00 0HLOBE63NTN72:00000002 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:19:00.7023718+03:00 0HLOBE63NTN72:00000002 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:19:00.7052263+03:00 0HLOBE63NTN72:00000002 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:19:00.7188622+03:00 0HLOBE63NTN72:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:19:00.7363167+03:00 0HLOBE63NTN72:00000002 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T14:19:00.7418712+03:00 0HLOBE63NTN72:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:19:00.7465510+03:00 0HLOBE63NTN72:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:19:00.7470180+03:00 0HLOBE63NTN72:00000002 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 44.5156ms. (50a9e262)
2019-07-18T14:19:00.7471244+03:00 0HLOBE63NTN72:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:19:00.7474883+03:00 0HLOBE63NTN72:00000002 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 45.7371ms (afa2e885)
2019-07-18T14:19:00.7476151+03:00 0HLOBE63NTN72:00000002 [INF] Request finished in 46.6531ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:19:00.7609049+03:00 0HLOBE63NTN72:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:19:00.7610814+03:00 0HLOBE63NTN72:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T14:19:00.7612375+03:00 0HLOBE63NTN72:00000003 [INF] Request finished in 1.2476ms 204  (791a596a)
2019-07-18T14:19:00.7697193+03:00 0HLOBE63NTN72:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:19:00.7702052+03:00 0HLOBE63NTN72:00000004 [INF] Successfully validated the token. (60169667)
2019-07-18T14:19:00.7702822+03:00 0HLOBE63NTN72:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T14:19:00.7704459+03:00 0HLOBE63NTN72:00000004 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:19:00.7707516+03:00 0HLOBE63NTN72:00000004 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:19:00.7711040+03:00 0HLOBE63NTN72:00000004 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:19:00.7714389+03:00 0HLOBE63NTN72:00000004 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:19:00.7730528+03:00 0HLOBE63NTN72:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:19:00.7734513+03:00 0HLOBE63NTN72:00000004 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2696ms. (50a9e262)
2019-07-18T14:19:00.7735504+03:00 0HLOBE63NTN72:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:19:00.7737718+03:00 0HLOBE63NTN72:00000004 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 3.2738ms (afa2e885)
2019-07-18T14:19:00.7738627+03:00 0HLOBE63NTN72:00000004 [INF] Request finished in 4.2141ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:21:17.3828340+03:00  [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:21:17.6946775+03:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2019-07-18T14:21:17.8982347+03:00  [INF] Executed DbCommand ("17"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:21:17.9792660+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:21:17.9815758+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:21:17.9826123+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:21:18.0094115+03:00  [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:21:18.0494539+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:21:18.0506678+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:21:18.0771241+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:21:18.5474372+03:00 0HLOBE86VBCIF:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/values   (ca22a1cb)
2019-07-18T14:21:18.7623431+03:00 0HLOBE86VBCIF:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Values\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "WebAPI.Controllers.ValuesController" ("WebAPI"). (122b2fdf)
2019-07-18T14:21:18.7781534+03:00 0HLOBE86VBCIF:00000001 [INF] Authorization failed. (b15dd539)
2019-07-18T14:21:18.7788763+03:00 0HLOBE86VBCIF:00000001 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2019-07-18T14:21:18.7858218+03:00 0HLOBE86VBCIF:00000001 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2019-07-18T14:21:18.7929878+03:00 0HLOBE86VBCIF:00000001 [INF] AuthenticationScheme: "Bearer" was challenged. (d45f1f38)
2019-07-18T14:21:18.7981376+03:00 0HLOBE86VBCIF:00000001 [INF] Executed action "WebAPI.Controllers.ValuesController.Get (WebAPI)" in 30.3618ms (afa2e885)
2019-07-18T14:21:18.8091238+03:00 0HLOBE86VBCIF:00000001 [INF] Request finished in 262.4668ms 401  (791a596a)
2019-07-18T14:21:24.9300452+03:00 0HLOBE86VBCIF:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:21:24.9315494+03:00 0HLOBE86VBCIF:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T14:21:24.9323299+03:00 0HLOBE86VBCIF:00000002 [INF] Request finished in 2.34ms 204  (791a596a)
2019-07-18T14:21:24.9430623+03:00 0HLOBE86VBCIF:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:21:24.9963167+03:00 0HLOBE86VBCIF:00000003 [INF] Successfully validated the token. (60169667)
2019-07-18T14:21:24.9967205+03:00 0HLOBE86VBCIF:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T14:21:25.0145144+03:00 0HLOBE86VBCIF:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:21:25.0700786+03:00 0HLOBE86VBCIF:00000003 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:21:25.0737897+03:00 0HLOBE86VBCIF:00000003 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:21:25.0759543+03:00 0HLOBE86VBCIF:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:21:25.0962075+03:00 0HLOBE86VBCIF:00000003 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T14:21:25.1423097+03:00 0HLOBE86VBCIF:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:21:25.1540620+03:00 0HLOBE86VBCIF:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:21:25.1657597+03:00 0HLOBE86VBCIF:00000003 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 90.1786ms. (50a9e262)
2019-07-18T14:21:25.1752428+03:00 0HLOBE86VBCIF:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:21:25.1945478+03:00 0HLOBE86VBCIF:00000003 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 179.8906ms (afa2e885)
2019-07-18T14:21:25.2009573+03:00 0HLOBE86VBCIF:00000003 [INF] Request finished in 257.9371ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:21:25.8130586+03:00 0HLOBE86VBCIF:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:21:25.8133141+03:00 0HLOBE86VBCIF:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T14:21:25.8135918+03:00 0HLOBE86VBCIF:00000004 [INF] Request finished in 0.5803ms 204  (791a596a)
2019-07-18T14:21:25.8348845+03:00 0HLOBE86VBCIF:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:21:25.8357645+03:00 0HLOBE86VBCIF:00000005 [INF] Successfully validated the token. (60169667)
2019-07-18T14:21:25.8361219+03:00 0HLOBE86VBCIF:00000005 [INF] Policy execution successful. (0204925d)
2019-07-18T14:21:25.8390172+03:00 0HLOBE86VBCIF:00000005 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:21:25.8409189+03:00 0HLOBE86VBCIF:00000005 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:21:25.8416356+03:00 0HLOBE86VBCIF:00000005 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:21:25.8432240+03:00 0HLOBE86VBCIF:00000005 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:21:25.8528959+03:00 0HLOBE86VBCIF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:21:25.8793218+03:00 0HLOBE86VBCIF:00000005 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.5714ms. (50a9e262)
2019-07-18T14:21:25.8796917+03:00 0HLOBE86VBCIF:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:21:25.8856428+03:00 0HLOBE86VBCIF:00000005 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 46.4739ms (afa2e885)
2019-07-18T14:21:25.8857996+03:00 0HLOBE86VBCIF:00000005 [INF] Request finished in 50.9706ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:53:41.6542969+03:00  [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:53:41.9080342+03:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2019-07-18T14:53:42.0905177+03:00  [INF] Executed DbCommand ("17"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:53:42.1664298+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:53:42.1688032+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:53:42.1697823+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T14:53:42.1942640+03:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:53:42.2330016+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:53:42.2341349+03:00  [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:53:42.2605871+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:53:42.5306088+03:00 0HLOBEQAAM26P:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/values   (ca22a1cb)
2019-07-18T14:53:42.7087505+03:00 0HLOBEQAAM26P:00000001 [INF] Request finished in 178.9691ms 404  (791a596a)
2019-07-18T14:53:55.5022183+03:00 0HLOBEQAAM26P:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:53:55.5039221+03:00 0HLOBEQAAM26P:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T14:53:55.5048479+03:00 0HLOBEQAAM26P:00000002 [INF] Request finished in 2.6592ms 204  (791a596a)
2019-07-18T14:53:55.5112841+03:00 0HLOBEQAAM26P:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:53:55.5123423+03:00 0HLOBEQAAM26P:00000003 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:53:55.5124526+03:00 0HLOBEQAAM26P:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T14:53:55.5591790+03:00 0HLOBEQAAM26P:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:53:55.6491353+03:00 0HLOBEQAAM26P:00000003 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:53:55.6531679+03:00 0HLOBEQAAM26P:00000003 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:53:55.6572920+03:00 0HLOBEQAAM26P:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:53:55.6779888+03:00 0HLOBEQAAM26P:00000003 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T14:53:55.7230114+03:00 0HLOBEQAAM26P:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:53:55.7331959+03:00 0HLOBEQAAM26P:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:53:55.7505428+03:00 0HLOBEQAAM26P:00000003 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 97.6913ms. (50a9e262)
2019-07-18T14:53:55.7607590+03:00 0HLOBEQAAM26P:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:53:55.7811254+03:00 0HLOBEQAAM26P:00000003 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 218.328ms (afa2e885)
2019-07-18T14:53:55.7869848+03:00 0HLOBEQAAM26P:00000003 [INF] Request finished in 275.7735ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:53:55.8061949+03:00 0HLOBEQAAM26P:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:53:55.8064146+03:00 0HLOBEQAAM26P:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T14:53:55.8066253+03:00 0HLOBEQAAM26P:00000004 [INF] Request finished in 0.467ms 204  (791a596a)
2019-07-18T14:53:55.8154839+03:00 0HLOBEQAAM26P:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:53:55.8255792+03:00 0HLOBEQAAM26P:00000005 [INF] Successfully validated the token. (60169667)
2019-07-18T14:53:55.8266278+03:00 0HLOBEQAAM26P:00000005 [INF] Policy execution successful. (0204925d)
2019-07-18T14:53:55.8293700+03:00 0HLOBEQAAM26P:00000005 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:53:55.8406690+03:00 0HLOBEQAAM26P:00000005 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:53:55.8419571+03:00 0HLOBEQAAM26P:00000005 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:53:55.8441072+03:00 0HLOBEQAAM26P:00000005 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:53:55.8551767+03:00 0HLOBEQAAM26P:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:53:55.8796237+03:00 0HLOBEQAAM26P:00000005 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T14:53:55.8797690+03:00 0HLOBEQAAM26P:00000005 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.6142ms. (50a9e262)
2019-07-18T14:53:55.8801701+03:00 0HLOBEQAAM26P:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:53:55.8864693+03:00 0HLOBEQAAM26P:00000005 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 56.9722ms (afa2e885)
2019-07-18T14:53:55.8866069+03:00 0HLOBEQAAM26P:00000005 [INF] Request finished in 71.1971ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:08.8178780+03:00 0HLOBEQAAM26P:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/createsubscriber   (ca22a1cb)
2019-07-18T14:54:08.8184264+03:00 0HLOBEQAAM26P:00000006 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:08.8188202+03:00 0HLOBEQAAM26P:00000006 [INF] Request finished in 0.8619ms 204  (791a596a)
2019-07-18T14:54:08.8305606+03:00 0HLOBEQAAM26P:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/subscribers/createsubscriber application/json 173 (ca22a1cb)
2019-07-18T14:54:08.8316610+03:00 0HLOBEQAAM26P:00000007 [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:08.8319241+03:00 0HLOBEQAAM26P:00000007 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:08.8411542+03:00 0HLOBEQAAM26P:00000007 [INF] Route matched with "{action = \"CreateSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSubscriber(WebAPI.Models.SubscriberModel)" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:08.8416380+03:00 0HLOBEQAAM26P:00000007 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:08.8466620+03:00 0HLOBEQAAM26P:00000007 [INF] Executing action method "WebAPI.Controllers.SubscribersController.CreateSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:08.8509254+03:00 0HLOBEQAAM26P:00000007 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:08.9114179+03:00 0HLOBEQAAM26P:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (Size = 12), @p4='?' (Size = 200), @p5='?' (Size = 200), @p6='?' (Size = 50), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Subscribers] ([Address], [FIOHead], [FullName], [INN], [Phones], [RepresentativePhones], [ShortName], [SubscriberRepresentative])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Subscribers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-07-18T14:54:08.9268428+03:00 0HLOBEQAAM26P:00000007 [INF] Добавление нового абонента в систему (a912511e)
2019-07-18T14:54:08.9269433+03:00 0HLOBEQAAM26P:00000007 [INF] Executed action method "WebAPI.Controllers.SubscribersController.CreateSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 80.2024ms. (50a9e262)
2019-07-18T14:54:08.9297717+03:00 0HLOBEQAAM26P:00000007 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T14:54:08.9298843+03:00 0HLOBEQAAM26P:00000007 [INF] Executed action "WebAPI.Controllers.SubscribersController.CreateSubscriber (WebAPI)" in 88.6353ms (afa2e885)
2019-07-18T14:54:08.9300282+03:00 0HLOBEQAAM26P:00000007 [INF] Request finished in 99.6292ms 200  (791a596a)
2019-07-18T14:54:08.9399615+03:00 0HLOBEQAAM26P:00000008 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:54:08.9402279+03:00 0HLOBEQAAM26P:00000008 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:08.9403646+03:00 0HLOBEQAAM26P:00000008 [INF] Request finished in 0.4518ms 204  (791a596a)
2019-07-18T14:54:08.9752271+03:00 0HLOBEQAAM26P:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:54:08.9758752+03:00 0HLOBEQAAM26P:00000009 [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:08.9759431+03:00 0HLOBEQAAM26P:00000009 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:08.9766232+03:00 0HLOBEQAAM26P:00000009 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:08.9768139+03:00 0HLOBEQAAM26P:00000009 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:08.9771676+03:00 0HLOBEQAAM26P:00000009 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:08.9774891+03:00 0HLOBEQAAM26P:00000009 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:08.9784304+03:00 0HLOBEQAAM26P:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:54:08.9789392+03:00 0HLOBEQAAM26P:00000009 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T14:54:08.9789995+03:00 0HLOBEQAAM26P:00000009 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7742ms. (50a9e262)
2019-07-18T14:54:08.9790838+03:00 0HLOBEQAAM26P:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:54:08.9793354+03:00 0HLOBEQAAM26P:00000009 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 2.5831ms (afa2e885)
2019-07-18T14:54:08.9794336+03:00 0HLOBEQAAM26P:00000009 [INF] Request finished in 4.2641ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:19.7287289+03:00 0HLOBEQAAM26P:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/updatesubscriber/   (ca22a1cb)
2019-07-18T14:54:19.7290922+03:00 0HLOBEQAAM26P:0000000A [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:19.7291999+03:00 0HLOBEQAAM26P:0000000A [INF] Request finished in 0.5226ms 204  (791a596a)
2019-07-18T14:54:19.7436301+03:00 0HLOBEQAAM26P:0000000B [INF] Request starting HTTP/1.1 PUT http://localhost:50038/api/subscribers/updatesubscriber/ application/json 182 (ca22a1cb)
2019-07-18T14:54:19.7446218+03:00 0HLOBEQAAM26P:0000000B [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:19.7447021+03:00 0HLOBEQAAM26P:0000000B [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:19.7556728+03:00 0HLOBEQAAM26P:0000000B [INF] Route matched with "{action = \"UpdateSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubscriber(WebAPI.Models.SubscriberModel)" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:19.7558490+03:00 0HLOBEQAAM26P:0000000B [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:19.7573571+03:00 0HLOBEQAAM26P:0000000B [INF] Executing action method "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:19.7615247+03:00 0HLOBEQAAM26P:0000000B [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:19.7625177+03:00 0HLOBEQAAM26P:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:54:19.7721641+03:00 0HLOBEQAAM26P:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__subscriberModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]
WHERE [s].[Id] = @__subscriberModel_Id_0" (0723d8ff)
2019-07-18T14:54:19.7949137+03:00 0HLOBEQAAM26P:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (Size = 12), @p4='?' (Size = 200), @p5='?' (Size = 200), @p6='?' (Size = 50), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Subscribers] SET [Address] = @p0, [FIOHead] = @p1, [FullName] = @p2, [INN] = @p3, [Phones] = @p4, [RepresentativePhones] = @p5, [ShortName] = @p6, [SubscriberRepresentative] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T14:54:19.7971141+03:00 0HLOBEQAAM26P:0000000B [INF] Обновление абонента с идентификатором 14 (a56d422e)
2019-07-18T14:54:19.7972043+03:00 0HLOBEQAAM26P:0000000B [INF] Executed action method "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 39.729ms. (50a9e262)
2019-07-18T14:54:19.7973249+03:00 0HLOBEQAAM26P:0000000B [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T14:54:19.7973993+03:00 0HLOBEQAAM26P:0000000B [INF] Executed action "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)" in 41.6327ms (afa2e885)
2019-07-18T14:54:19.7975445+03:00 0HLOBEQAAM26P:0000000B [INF] Request finished in 53.9954ms 200  (791a596a)
2019-07-18T14:54:19.8038110+03:00 0HLOBEQAAM26P:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:54:19.8040706+03:00 0HLOBEQAAM26P:0000000C [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:19.8042284+03:00 0HLOBEQAAM26P:0000000C [INF] Request finished in 0.4459ms 204  (791a596a)
2019-07-18T14:54:19.8187274+03:00 0HLOBEQAAM26P:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:54:19.8193798+03:00 0HLOBEQAAM26P:0000000D [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:19.8194720+03:00 0HLOBEQAAM26P:0000000D [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:19.8197105+03:00 0HLOBEQAAM26P:0000000D [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:19.8198231+03:00 0HLOBEQAAM26P:0000000D [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:19.8201927+03:00 0HLOBEQAAM26P:0000000D [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:19.8206880+03:00 0HLOBEQAAM26P:0000000D [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:19.8215085+03:00 0HLOBEQAAM26P:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:54:19.8219563+03:00 0HLOBEQAAM26P:0000000D [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T14:54:19.8220238+03:00 0HLOBEQAAM26P:0000000D [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7505ms. (50a9e262)
2019-07-18T14:54:19.8221210+03:00 0HLOBEQAAM26P:0000000D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:54:19.8223687+03:00 0HLOBEQAAM26P:0000000D [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 2.5992ms (afa2e885)
2019-07-18T14:54:19.8224678+03:00 0HLOBEQAAM26P:0000000D [INF] Request finished in 3.8659ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:27.0380696+03:00 0HLOBEQAAM26P:0000000E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:54:27.0389473+03:00 0HLOBEQAAM26P:0000000E [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:27.0391485+03:00 0HLOBEQAAM26P:0000000E [INF] Request finished in 1.2327ms 204  (791a596a)
2019-07-18T14:54:27.0504618+03:00 0HLOBEQAAM26P:0000000F [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T14:54:27.0509123+03:00 0HLOBEQAAM26P:0000000F [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:54:27.0509739+03:00 0HLOBEQAAM26P:0000000F [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:27.0511169+03:00 0HLOBEQAAM26P:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:27.0518466+03:00 0HLOBEQAAM26P:0000000F [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:27.0521407+03:00 0HLOBEQAAM26P:0000000F [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:27.0533758+03:00 0HLOBEQAAM26P:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:54:27.0664919+03:00 0HLOBEQAAM26P:0000000F [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T14:54:27.0680161+03:00 0HLOBEQAAM26P:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:27.0693155+03:00 0HLOBEQAAM26P:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:27.0701879+03:00 0HLOBEQAAM26P:0000000F [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.271ms. (50a9e262)
2019-07-18T14:54:27.0703022+03:00 0HLOBEQAAM26P:0000000F [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:54:27.0704708+03:00 0HLOBEQAAM26P:0000000F [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 19.1274ms (afa2e885)
2019-07-18T14:54:27.0705864+03:00 0HLOBEQAAM26P:0000000F [INF] Request finished in 20.1813ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:27.5647444+03:00 0HLOBEQAAM26P:00000010 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T14:54:27.5649509+03:00 0HLOBEQAAM26P:00000010 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:27.5650503+03:00 0HLOBEQAAM26P:00000010 [INF] Request finished in 0.3738ms 204  (791a596a)
2019-07-18T14:54:27.5859948+03:00 0HLOBEQAAM26P:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T14:54:27.5865422+03:00 0HLOBEQAAM26P:00000011 [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:27.5865955+03:00 0HLOBEQAAM26P:00000011 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:27.5914416+03:00 0HLOBEQAAM26P:00000011 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:27.5915872+03:00 0HLOBEQAAM26P:00000011 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:27.5921909+03:00 0HLOBEQAAM26P:00000011 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:27.5966575+03:00 0HLOBEQAAM26P:00000011 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:27.6047312+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T14:54:27.6167225+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T14:54:27.6293792+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:54:27.6331908+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:27.6342556+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:54:27.6351856+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:27.6357784+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:54:27.6365785+03:00 0HLOBEQAAM26P:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:27.6369299+03:00 0HLOBEQAAM26P:00000011 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 44.6605ms. (50a9e262)
2019-07-18T14:54:27.6371466+03:00 0HLOBEQAAM26P:00000011 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T14:54:27.6439796+03:00 0HLOBEQAAM26P:00000011 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 52.4353ms (afa2e885)
2019-07-18T14:54:27.6441703+03:00 0HLOBEQAAM26P:00000011 [INF] Request finished in 58.1684ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:32.8249972+03:00 0HLOBEQAAM26P:00000012 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/addusertorole   (ca22a1cb)
2019-07-18T14:54:32.8255443+03:00 0HLOBEQAAM26P:00000012 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:32.8257132+03:00 0HLOBEQAAM26P:00000012 [INF] Request finished in 0.8342ms 204  (791a596a)
2019-07-18T14:54:32.8387803+03:00 0HLOBEQAAM26P:00000013 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/administrator/addusertorole application/json 82 (ca22a1cb)
2019-07-18T14:54:32.8391910+03:00 0HLOBEQAAM26P:00000013 [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:32.8392440+03:00 0HLOBEQAAM26P:00000013 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:32.8443245+03:00 0HLOBEQAAM26P:00000013 [INF] Route matched with "{action = \"AddUserToRole\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToRole(WebAPI.Models.UserWithIncludedAndExcludedRolesModel)" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:32.8444596+03:00 0HLOBEQAAM26P:00000013 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:32.8555343+03:00 0HLOBEQAAM26P:00000013 [INF] Executing action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:32.8586417+03:00 0HLOBEQAAM26P:00000013 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:32.8606396+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:54:32.8768354+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T14:54:32.8969621+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T14:54:32.9050559+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T14:54:32.9174988+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T14:54:32.9218436+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T14:54:32.9226887+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T14:54:32.9351398+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:54:32.9598938+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T14:54:32.9819014+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (0723d8ff)
2019-07-18T14:54:32.9824405+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (0723d8ff)
2019-07-18T14:54:32.9887285+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("6"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T14:54:32.9958006+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:54:32.9968971+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T14:54:32.9988122+03:00 0HLOBEQAAM26P:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T14:54:33.0009527+03:00 0HLOBEQAAM26P:00000013 [INF] Executed action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 145.3137ms. (50a9e262)
2019-07-18T14:54:33.0010499+03:00 0HLOBEQAAM26P:00000013 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T14:54:33.0011124+03:00 0HLOBEQAAM26P:00000013 [INF] Executed action "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" in 156.718ms (afa2e885)
2019-07-18T14:54:33.0012264+03:00 0HLOBEQAAM26P:00000013 [INF] Request finished in 162.5385ms 200  (791a596a)
2019-07-18T14:54:33.0070892+03:00 0HLOBEQAAM26P:00000014 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T14:54:33.0073648+03:00 0HLOBEQAAM26P:00000014 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:33.0074814+03:00 0HLOBEQAAM26P:00000014 [INF] Request finished in 0.4713ms 204  (791a596a)
2019-07-18T14:54:33.0155426+03:00 0HLOBEQAAM26P:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T14:54:33.0159527+03:00 0HLOBEQAAM26P:00000015 [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:33.0160624+03:00 0HLOBEQAAM26P:00000015 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:33.0162297+03:00 0HLOBEQAAM26P:00000015 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:33.0163700+03:00 0HLOBEQAAM26P:00000015 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:33.0166259+03:00 0HLOBEQAAM26P:00000015 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:33.0170527+03:00 0HLOBEQAAM26P:00000015 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:33.0183356+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T14:54:33.0192132+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T14:54:33.0202221+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:54:33.0214917+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:33.0221982+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:54:33.0231483+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:33.0240069+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:54:33.0251880+03:00 0HLOBEQAAM26P:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:33.0254689+03:00 0HLOBEQAAM26P:00000015 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.7641ms. (50a9e262)
2019-07-18T14:54:33.0256303+03:00 0HLOBEQAAM26P:00000015 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T14:54:33.0258460+03:00 0HLOBEQAAM26P:00000015 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 9.5523ms (afa2e885)
2019-07-18T14:54:33.0259722+03:00 0HLOBEQAAM26P:00000015 [INF] Request finished in 10.4847ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:35.2878830+03:00 0HLOBEQAAM26P:00000016 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getroles   (ca22a1cb)
2019-07-18T14:54:35.2881656+03:00 0HLOBEQAAM26P:00000016 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:35.2882875+03:00 0HLOBEQAAM26P:00000016 [INF] Request finished in 0.463ms 204  (791a596a)
2019-07-18T14:54:35.2947611+03:00 0HLOBEQAAM26P:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getroles   (ca22a1cb)
2019-07-18T14:54:35.2952146+03:00 0HLOBEQAAM26P:00000017 [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:35.2954086+03:00 0HLOBEQAAM26P:00000017 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:35.2976357+03:00 0HLOBEQAAM26P:00000017 [INF] Route matched with "{action = \"GetRoles\", controller = \"Administrator\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetRoles()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:35.2977839+03:00 0HLOBEQAAM26P:00000017 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:35.2980893+03:00 0HLOBEQAAM26P:00000017 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetRoles (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:35.2993737+03:00 0HLOBEQAAM26P:00000017 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:35.3071283+03:00 0HLOBEQAAM26P:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T14:54:35.3089740+03:00 0HLOBEQAAM26P:00000017 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetRoles (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.7986ms. (50a9e262)
2019-07-18T14:54:35.3091314+03:00 0HLOBEQAAM26P:00000017 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.RoleViewModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:54:35.3139883+03:00 0HLOBEQAAM26P:00000017 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetRoles (WebAPI)" in 16.2709ms (afa2e885)
2019-07-18T14:54:35.3141076+03:00 0HLOBEQAAM26P:00000017 [INF] Request finished in 19.4251ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:39.4626554+03:00 0HLOBEQAAM26P:00000018 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:54:39.4634083+03:00 0HLOBEQAAM26P:00000018 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:39.4636748+03:00 0HLOBEQAAM26P:00000018 [INF] Request finished in 1.1043ms 204  (791a596a)
2019-07-18T14:54:39.4744080+03:00 0HLOBEQAAM26P:00000019 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:54:39.4748697+03:00 0HLOBEQAAM26P:00000019 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:54:39.4749613+03:00 0HLOBEQAAM26P:00000019 [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:39.4752861+03:00 0HLOBEQAAM26P:00000019 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:39.4762129+03:00 0HLOBEQAAM26P:00000019 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:39.4769016+03:00 0HLOBEQAAM26P:00000019 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:39.4902370+03:00 0HLOBEQAAM26P:00000019 [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:54:39.5060158+03:00 0HLOBEQAAM26P:00000019 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T14:54:39.5115667+03:00 0HLOBEQAAM26P:00000019 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:39.5128907+03:00 0HLOBEQAAM26P:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:54:39.5147736+03:00 0HLOBEQAAM26P:00000019 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.4439ms. (50a9e262)
2019-07-18T14:54:39.5148948+03:00 0HLOBEQAAM26P:00000019 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:54:39.5151201+03:00 0HLOBEQAAM26P:00000019 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 39.7415ms (afa2e885)
2019-07-18T14:54:39.5152238+03:00 0HLOBEQAAM26P:00000019 [INF] Request finished in 41.1271ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:39.5275643+03:00 0HLOBEQAAM26P:0000001A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:54:39.5280207+03:00 0HLOBEQAAM26P:0000001A [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:39.5281515+03:00 0HLOBEQAAM26P:0000001A [INF] Request finished in 0.6656ms 204  (791a596a)
2019-07-18T14:54:39.5348703+03:00 0HLOBEQAAM26P:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:54:39.5369350+03:00 0HLOBEQAAM26P:0000001B [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:39.5370963+03:00 0HLOBEQAAM26P:0000001B [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:39.5374095+03:00 0HLOBEQAAM26P:0000001B [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:39.5375979+03:00 0HLOBEQAAM26P:0000001B [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:39.5378515+03:00 0HLOBEQAAM26P:0000001B [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:39.5381532+03:00 0HLOBEQAAM26P:0000001B [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:39.5399034+03:00 0HLOBEQAAM26P:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:54:39.5402986+03:00 0HLOBEQAAM26P:0000001B [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T14:54:39.5403691+03:00 0HLOBEQAAM26P:0000001B [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4491ms. (50a9e262)
2019-07-18T14:54:39.5404695+03:00 0HLOBEQAAM26P:0000001B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:54:39.5407090+03:00 0HLOBEQAAM26P:0000001B [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 3.168ms (afa2e885)
2019-07-18T14:54:39.5408028+03:00 0HLOBEQAAM26P:0000001B [INF] Request finished in 5.989ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:54:40.9006673+03:00 0HLOBEQAAM26P:0000001C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T14:54:40.9015684+03:00 0HLOBEQAAM26P:0000001C [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:40.9017696+03:00 0HLOBEQAAM26P:0000001C [INF] Request finished in 1.2624ms 204  (791a596a)
2019-07-18T14:54:40.9175630+03:00 0HLOBEQAAM26P:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T14:54:40.9186196+03:00 0HLOBEQAAM26P:0000001D [INF] Successfully validated the token. (60169667)
2019-07-18T14:54:40.9187418+03:00 0HLOBEQAAM26P:0000001D [INF] Policy execution successful. (0204925d)
2019-07-18T14:54:40.9237130+03:00 0HLOBEQAAM26P:0000001D [INF] Route matched with "{action = \"PrintSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult PrintSubscriber()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:54:40.9240160+03:00 0HLOBEQAAM26P:0000001D [INF] Authorization was successful. (0d575a54)
2019-07-18T14:54:40.9245196+03:00 0HLOBEQAAM26P:0000001D [INF] Executing action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:54:40.9474832+03:00 0HLOBEQAAM26P:0000001D [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:54:40.9529133+03:00 0HLOBEQAAM26P:0000001D [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:54:40.9546532+03:00 0HLOBEQAAM26P:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:54:44.6538058+03:00 0HLOBEQAAM26P:0000001D [INF] Executed action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3729.2093ms. (50a9e262)
2019-07-18T14:54:44.6540044+03:00 0HLOBEQAAM26P:0000001D [INF] Executing ObjectResult, writing value of type '"System.Byte[]"'. (8a1b66c8)
2019-07-18T14:54:44.6557193+03:00 0HLOBEQAAM26P:0000001D [INF] Executed action "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" in 3731.913ms (afa2e885)
2019-07-18T14:54:44.6559798+03:00 0HLOBEQAAM26P:0000001D [INF] Request finished in 3739.2478ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:55:38.2072971+03:00 0HLOBEQAAM26P:0000001E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/registration   (ca22a1cb)
2019-07-18T14:55:38.2083912+03:00 0HLOBEQAAM26P:0000001E [INF] Policy execution successful. (0204925d)
2019-07-18T14:55:38.2087017+03:00 0HLOBEQAAM26P:0000001E [INF] Request finished in 1.5239ms 204  (791a596a)
2019-07-18T14:55:38.2209799+03:00 0HLOBEQAAM26P:0000001F [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/registration application/json 93 (ca22a1cb)
2019-07-18T14:55:38.2213738+03:00 0HLOBEQAAM26P:0000001F [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:55:38.2215128+03:00 0HLOBEQAAM26P:0000001F [INF] Policy execution successful. (0204925d)
2019-07-18T14:55:38.2347794+03:00 0HLOBEQAAM26P:0000001F [INF] Route matched with "{action = \"Registration\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registration(WebAPI.Models.RegisterModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:55:38.2405384+03:00 0HLOBEQAAM26P:0000001F [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Registration (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:55:38.2619525+03:00 0HLOBEQAAM26P:0000001F [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:55:38.2658586+03:00 0HLOBEQAAM26P:0000001F [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:55:38.2686894+03:00 0HLOBEQAAM26P:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T14:55:38.2749128+03:00 0HLOBEQAAM26P:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);" (0723d8ff)
2019-07-18T14:55:38.2784467+03:00 0HLOBEQAAM26P:0000001F [INF] Регистрация нового пользователя Boris системе (9b500799)
2019-07-18T14:55:38.2786918+03:00 0HLOBEQAAM26P:0000001F [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Registration (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.0499ms. (50a9e262)
2019-07-18T14:55:38.2788403+03:00 0HLOBEQAAM26P:0000001F [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T14:55:38.2819622+03:00 0HLOBEQAAM26P:0000001F [INF] Executed action "WebAPI.Controllers.AuthenticationController.Registration (WebAPI)" in 47.0243ms (afa2e885)
2019-07-18T14:55:38.2820847+03:00 0HLOBEQAAM26P:0000001F [INF] Request finished in 61.5199ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:55:48.6713744+03:00 0HLOBEQAAM26P:00000020 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:55:48.6721905+03:00 0HLOBEQAAM26P:00000020 [INF] Policy execution successful. (0204925d)
2019-07-18T14:55:48.6724003+03:00 0HLOBEQAAM26P:00000020 [INF] Request finished in 1.1224ms 204  (791a596a)
2019-07-18T14:55:48.6838249+03:00 0HLOBEQAAM26P:00000021 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:55:48.6839958+03:00 0HLOBEQAAM26P:00000021 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:55:48.6840406+03:00 0HLOBEQAAM26P:00000021 [INF] Policy execution successful. (0204925d)
2019-07-18T14:55:48.6843673+03:00 0HLOBEQAAM26P:00000021 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:55:48.7058923+03:00 0HLOBEQAAM26P:00000021 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:55:48.7063410+03:00 0HLOBEQAAM26P:00000021 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:55:48.7113165+03:00 0HLOBEQAAM26P:00000021 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:55:48.7239797+03:00 0HLOBEQAAM26P:00000021 [INF] Вход пользователя Boris в систему (d1ff9bc5)
2019-07-18T14:55:48.7303899+03:00 0HLOBEQAAM26P:00000021 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:55:48.7337959+03:00 0HLOBEQAAM26P:00000021 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:55:48.7343674+03:00 0HLOBEQAAM26P:00000021 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.38ms. (50a9e262)
2019-07-18T14:55:48.7344932+03:00 0HLOBEQAAM26P:00000021 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:55:48.7347198+03:00 0HLOBEQAAM26P:00000021 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 50.2836ms (afa2e885)
2019-07-18T14:55:48.7348200+03:00 0HLOBEQAAM26P:00000021 [INF] Request finished in 51.0543ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:56:06.1002409+03:00 0HLOBEQAAM26P:00000022 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:56:06.1006338+03:00 0HLOBEQAAM26P:00000022 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:06.1008426+03:00 0HLOBEQAAM26P:00000022 [INF] Request finished in 0.6979ms 204  (791a596a)
2019-07-18T14:56:06.1112560+03:00 0HLOBEQAAM26P:00000023 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T14:56:06.1126241+03:00 0HLOBEQAAM26P:00000023 [INF] Successfully validated the token. (60169667)
2019-07-18T14:56:06.1129070+03:00 0HLOBEQAAM26P:00000023 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:06.1132386+03:00 0HLOBEQAAM26P:00000023 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:56:06.1156874+03:00 0HLOBEQAAM26P:00000023 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:56:06.1165675+03:00 0HLOBEQAAM26P:00000023 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:56:06.1190952+03:00 0HLOBEQAAM26P:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:56:06.1405037+03:00 0HLOBEQAAM26P:00000023 [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T14:56:06.1418102+03:00 0HLOBEQAAM26P:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:06.1428536+03:00 0HLOBEQAAM26P:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:06.1432676+03:00 0HLOBEQAAM26P:00000023 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.4374ms. (50a9e262)
2019-07-18T14:56:06.1433911+03:00 0HLOBEQAAM26P:00000023 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:56:06.1436121+03:00 0HLOBEQAAM26P:00000023 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 29.6079ms (afa2e885)
2019-07-18T14:56:06.1437313+03:00 0HLOBEQAAM26P:00000023 [INF] Request finished in 32.603ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:56:06.1555145+03:00 0HLOBEQAAM26P:00000024 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T14:56:06.1558765+03:00 0HLOBEQAAM26P:00000024 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:06.1566955+03:00 0HLOBEQAAM26P:00000024 [INF] Request finished in 0.9126ms 204  (791a596a)
2019-07-18T14:56:06.1624872+03:00 0HLOBEQAAM26P:00000025 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T14:56:06.1629009+03:00 0HLOBEQAAM26P:00000025 [INF] Successfully validated the token. (60169667)
2019-07-18T14:56:06.1629559+03:00 0HLOBEQAAM26P:00000025 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:06.1631186+03:00 0HLOBEQAAM26P:00000025 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T14:56:06.1632220+03:00 0HLOBEQAAM26P:00000025 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:56:06.1635171+03:00 0HLOBEQAAM26P:00000025 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:56:06.1638448+03:00 0HLOBEQAAM26P:00000025 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:56:06.1667039+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T14:56:06.1699924+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T14:56:06.1727834+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:06.1742226+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:06.1749199+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:06.1758902+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:06.1766095+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:06.1776472+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:06.1784755+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:06.1795186+03:00 0HLOBEQAAM26P:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:06.1798048+03:00 0HLOBEQAAM26P:00000025 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.1296ms. (50a9e262)
2019-07-18T14:56:06.1799560+03:00 0HLOBEQAAM26P:00000025 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T14:56:06.1802584+03:00 0HLOBEQAAM26P:00000025 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 17.0672ms (afa2e885)
2019-07-18T14:56:06.1803598+03:00 0HLOBEQAAM26P:00000025 [INF] Request finished in 17.9325ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:56:10.1773288+03:00 0HLOBEQAAM26P:00000026 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/addusertorole   (ca22a1cb)
2019-07-18T14:56:10.1778099+03:00 0HLOBEQAAM26P:00000026 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:10.1780567+03:00 0HLOBEQAAM26P:00000026 [INF] Request finished in 0.82ms 204  (791a596a)
2019-07-18T14:56:10.1987418+03:00 0HLOBEQAAM26P:00000027 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/administrator/addusertorole application/json 72 (ca22a1cb)
2019-07-18T14:56:10.1997190+03:00 0HLOBEQAAM26P:00000027 [INF] Successfully validated the token. (60169667)
2019-07-18T14:56:10.1998814+03:00 0HLOBEQAAM26P:00000027 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:10.2001986+03:00 0HLOBEQAAM26P:00000027 [INF] Route matched with "{action = \"AddUserToRole\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToRole(WebAPI.Models.UserWithIncludedAndExcludedRolesModel)" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T14:56:10.2004031+03:00 0HLOBEQAAM26P:00000027 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:56:10.2014600+03:00 0HLOBEQAAM26P:00000027 [INF] Executing action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:56:10.2021381+03:00 0HLOBEQAAM26P:00000027 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:56:10.2043119+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:56:10.2105665+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T14:56:10.2186564+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T14:56:10.2202001+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T14:56:10.2224742+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:56:10.2257664+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T14:56:10.2294327+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (0723d8ff)
2019-07-18T14:56:10.2345683+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("5"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T14:56:10.2361667+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:56:10.2370035+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T14:56:10.2385252+03:00 0HLOBEQAAM26P:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T14:56:10.2389961+03:00 0HLOBEQAAM26P:00000027 [INF] Executed action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 37.4209ms. (50a9e262)
2019-07-18T14:56:10.2390916+03:00 0HLOBEQAAM26P:00000027 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T14:56:10.2391542+03:00 0HLOBEQAAM26P:00000027 [INF] Executed action "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" in 38.8516ms (afa2e885)
2019-07-18T14:56:10.2393462+03:00 0HLOBEQAAM26P:00000027 [INF] Request finished in 40.7757ms 200  (791a596a)
2019-07-18T14:56:10.2458002+03:00 0HLOBEQAAM26P:00000028 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T14:56:10.2463096+03:00 0HLOBEQAAM26P:00000028 [INF] Successfully validated the token. (60169667)
2019-07-18T14:56:10.2463650+03:00 0HLOBEQAAM26P:00000028 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:10.2465224+03:00 0HLOBEQAAM26P:00000028 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T14:56:10.2466489+03:00 0HLOBEQAAM26P:00000028 [INF] Authorization was successful. (0d575a54)
2019-07-18T14:56:10.2469110+03:00 0HLOBEQAAM26P:00000028 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:56:10.2472904+03:00 0HLOBEQAAM26P:00000028 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:56:10.2483991+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T14:56:10.2489969+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T14:56:10.2499780+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:10.2511363+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:10.2517828+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:10.2526134+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:10.2533914+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:10.2542214+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:10.2548949+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T14:56:10.2557113+03:00 0HLOBEQAAM26P:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:10.2558674+03:00 0HLOBEQAAM26P:00000028 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.8942ms. (50a9e262)
2019-07-18T14:56:10.2559906+03:00 0HLOBEQAAM26P:00000028 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T14:56:10.2562672+03:00 0HLOBEQAAM26P:00000028 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 9.6877ms (afa2e885)
2019-07-18T14:56:10.2563753+03:00 0HLOBEQAAM26P:00000028 [INF] Request finished in 10.6365ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:56:23.2851161+03:00 0HLOBEQAAM26P:00000029 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T14:56:23.2855162+03:00 0HLOBEQAAM26P:00000029 [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:23.2856756+03:00 0HLOBEQAAM26P:00000029 [INF] Request finished in 1.3115ms 204  (791a596a)
2019-07-18T14:56:23.2981199+03:00 0HLOBEQAAM26P:0000002A [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T14:56:23.2983139+03:00 0HLOBEQAAM26P:0000002A [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T14:56:23.2983561+03:00 0HLOBEQAAM26P:0000002A [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:23.2985168+03:00 0HLOBEQAAM26P:0000002A [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T14:56:23.2990974+03:00 0HLOBEQAAM26P:0000002A [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:56:23.2995403+03:00 0HLOBEQAAM26P:0000002A [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:56:23.3007273+03:00 0HLOBEQAAM26P:0000002A [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T14:56:23.3113173+03:00 0HLOBEQAAM26P:0000002A [INF] Вход пользователя Boris в систему (d1ff9bc5)
2019-07-18T14:56:23.3123627+03:00 0HLOBEQAAM26P:0000002A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:23.3132552+03:00 0HLOBEQAAM26P:0000002A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T14:56:23.3135869+03:00 0HLOBEQAAM26P:0000002A [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.3889ms. (50a9e262)
2019-07-18T14:56:23.3136774+03:00 0HLOBEQAAM26P:0000002A [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T14:56:23.3137940+03:00 0HLOBEQAAM26P:0000002A [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 15.2265ms (afa2e885)
2019-07-18T14:56:23.3139080+03:00 0HLOBEQAAM26P:0000002A [INF] Request finished in 15.9043ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T14:56:23.3275800+03:00 0HLOBEQAAM26P:0000002B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:56:23.3282548+03:00 0HLOBEQAAM26P:0000002B [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:23.3283638+03:00 0HLOBEQAAM26P:0000002B [INF] Request finished in 0.9472ms 204  (791a596a)
2019-07-18T14:56:23.3366085+03:00 0HLOBEQAAM26P:0000002C [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T14:56:23.3369490+03:00 0HLOBEQAAM26P:0000002C [INF] Successfully validated the token. (60169667)
2019-07-18T14:56:23.3370027+03:00 0HLOBEQAAM26P:0000002C [INF] Policy execution successful. (0204925d)
2019-07-18T14:56:23.3371361+03:00 0HLOBEQAAM26P:0000002C [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T14:56:23.3372484+03:00 0HLOBEQAAM26P:0000002C [INF] Authorization was successful. (0d575a54)
2019-07-18T14:56:23.3379622+03:00 0HLOBEQAAM26P:0000002C [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T14:56:23.3383887+03:00 0HLOBEQAAM26P:0000002C [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T14:56:23.3408380+03:00 0HLOBEQAAM26P:0000002C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T14:56:23.3413287+03:00 0HLOBEQAAM26P:0000002C [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T14:56:23.3414064+03:00 0HLOBEQAAM26P:0000002C [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3521ms. (50a9e262)
2019-07-18T14:56:23.3415099+03:00 0HLOBEQAAM26P:0000002C [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T14:56:23.3418662+03:00 0HLOBEQAAM26P:0000002C [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 4.6706ms (afa2e885)
2019-07-18T14:56:23.3419625+03:00 0HLOBEQAAM26P:0000002C [INF] Request finished in 5.4034ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:00:12.6407903+03:00 0HLOBEQAAM26Q:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:00:12.6411562+03:00 0HLOBEQAAM26Q:00000001 [INF] Policy execution successful. (0204925d)
2019-07-18T15:00:12.6413518+03:00 0HLOBEQAAM26Q:00000001 [INF] Request finished in 0.7259ms 204  (791a596a)
2019-07-18T15:00:12.6493731+03:00 0HLOBEQAAM26Q:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T15:00:12.6496178+03:00 0HLOBEQAAM26Q:00000002 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:00:12.6496616+03:00 0HLOBEQAAM26Q:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T15:00:12.6498866+03:00 0HLOBEQAAM26Q:00000002 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:00:12.6519180+03:00 0HLOBEQAAM26Q:00000002 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:00:12.6523066+03:00 0HLOBEQAAM26Q:00000002 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:00:12.6785803+03:00 0HLOBEQAAM26Q:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:00:12.6889789+03:00 0HLOBEQAAM26Q:00000002 [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T15:00:12.6933685+03:00 0HLOBEQAAM26Q:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:00:12.6945219+03:00 0HLOBEQAAM26Q:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:00:12.6949859+03:00 0HLOBEQAAM26Q:00000002 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.9989ms. (50a9e262)
2019-07-18T15:00:12.6951193+03:00 0HLOBEQAAM26Q:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:00:12.6953630+03:00 0HLOBEQAAM26Q:00000002 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 45.4022ms (afa2e885)
2019-07-18T15:00:12.6954684+03:00 0HLOBEQAAM26Q:00000002 [INF] Request finished in 46.1508ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:00:12.8083970+03:00 0HLOBEQAAM26Q:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:00:12.8087276+03:00 0HLOBEQAAM26Q:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T15:00:12.8088591+03:00 0HLOBEQAAM26Q:00000003 [INF] Request finished in 0.5546ms 204  (791a596a)
2019-07-18T15:00:12.8199364+03:00 0HLOBEQAAM26Q:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:00:12.8203790+03:00 0HLOBEQAAM26Q:00000004 [INF] Successfully validated the token. (60169667)
2019-07-18T15:00:12.8204548+03:00 0HLOBEQAAM26Q:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T15:00:12.8206521+03:00 0HLOBEQAAM26Q:00000004 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:00:12.8207684+03:00 0HLOBEQAAM26Q:00000004 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:00:12.8210486+03:00 0HLOBEQAAM26Q:00000004 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:00:12.8213546+03:00 0HLOBEQAAM26Q:00000004 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:00:12.8236097+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:00:12.8260288+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:00:12.8287656+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:00:12.8299355+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:00:12.8307661+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:00:12.8316321+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:00:12.8323971+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:00:12.8332890+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:00:12.8339928+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:00:12.8350596+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:00:12.8353148+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.1775ms. (50a9e262)
2019-07-18T15:00:12.8354525+03:00 0HLOBEQAAM26Q:00000004 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:00:12.8357680+03:00 0HLOBEQAAM26Q:00000004 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 15.0575ms (afa2e885)
2019-07-18T15:00:12.8358921+03:00 0HLOBEQAAM26Q:00000004 [INF] Request finished in 15.9939ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:17:24.6094192+03:00 0HLOBEQAAM26R:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:17:24.6097640+03:00 0HLOBEQAAM26R:00000001 [INF] Policy execution successful. (0204925d)
2019-07-18T15:17:24.6100417+03:00 0HLOBEQAAM26R:00000001 [INF] Request finished in 0.7802ms 204  (791a596a)
2019-07-18T15:17:24.6219276+03:00 0HLOBEQAAM26R:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T15:17:24.6225482+03:00 0HLOBEQAAM26R:00000002 [INF] Successfully validated the token. (60169667)
2019-07-18T15:17:24.6226605+03:00 0HLOBEQAAM26R:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T15:17:24.6229710+03:00 0HLOBEQAAM26R:00000002 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:17:24.6237595+03:00 0HLOBEQAAM26R:00000002 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:17:24.6242746+03:00 0HLOBEQAAM26R:00000002 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:17:24.6328881+03:00 0HLOBEQAAM26R:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:17:24.6428826+03:00 0HLOBEQAAM26R:00000002 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T15:17:24.6467537+03:00 0HLOBEQAAM26R:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:17:24.6479138+03:00 0HLOBEQAAM26R:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:17:24.6484147+03:00 0HLOBEQAAM26R:00000002 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.572ms. (50a9e262)
2019-07-18T15:17:24.6485537+03:00 0HLOBEQAAM26R:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:17:24.6488488+03:00 0HLOBEQAAM26R:00000002 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 25.7853ms (afa2e885)
2019-07-18T15:17:24.6489884+03:00 0HLOBEQAAM26R:00000002 [INF] Request finished in 27.1209ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:17:25.1699994+03:00 0HLOBEQAAM26R:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:17:25.1702197+03:00 0HLOBEQAAM26R:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T15:17:25.1704239+03:00 0HLOBEQAAM26R:00000003 [INF] Request finished in 1.9889ms 204  (791a596a)
2019-07-18T15:17:25.2043892+03:00 0HLOBEQAAM26R:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:17:25.2049445+03:00 0HLOBEQAAM26R:00000004 [INF] Successfully validated the token. (60169667)
2019-07-18T15:17:25.2050012+03:00 0HLOBEQAAM26R:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T15:17:25.2051672+03:00 0HLOBEQAAM26R:00000004 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:17:25.2052719+03:00 0HLOBEQAAM26R:00000004 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:17:25.2055976+03:00 0HLOBEQAAM26R:00000004 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:17:25.2060221+03:00 0HLOBEQAAM26R:00000004 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:17:25.2075204+03:00 0HLOBEQAAM26R:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:17:25.2079376+03:00 0HLOBEQAAM26R:00000004 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T15:17:25.2080190+03:00 0HLOBEQAAM26R:00000004 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.3575ms. (50a9e262)
2019-07-18T15:17:25.2081392+03:00 0HLOBEQAAM26R:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T15:17:25.2085766+03:00 0HLOBEQAAM26R:00000004 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 3.3413ms (afa2e885)
2019-07-18T15:17:25.2086866+03:00 0HLOBEQAAM26R:00000004 [INF] Request finished in 4.3712ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:05.2488894+03:00 0HLOBEQAAM26R:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/registration   (ca22a1cb)
2019-07-18T15:18:05.2493299+03:00 0HLOBEQAAM26R:00000005 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:05.2495844+03:00 0HLOBEQAAM26R:00000005 [INF] Request finished in 0.8085ms 204  (791a596a)
2019-07-18T15:18:05.2624294+03:00 0HLOBEQAAM26R:00000006 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/registration application/json 94 (ca22a1cb)
2019-07-18T15:18:05.2628088+03:00 0HLOBEQAAM26R:00000006 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:18:05.2629175+03:00 0HLOBEQAAM26R:00000006 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:05.2632321+03:00 0HLOBEQAAM26R:00000006 [INF] Route matched with "{action = \"Registration\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registration(WebAPI.Models.RegisterModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:05.2643383+03:00 0HLOBEQAAM26R:00000006 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Registration (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:05.2806343+03:00 0HLOBEQAAM26R:00000006 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:05.2852255+03:00 0HLOBEQAAM26R:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:05.2888134+03:00 0HLOBEQAAM26R:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:18:05.2929214+03:00 0HLOBEQAAM26R:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);" (0723d8ff)
2019-07-18T15:18:05.2939487+03:00 0HLOBEQAAM26R:00000006 [INF] Регистрация нового пользователя Tat системе (2d184b80)
2019-07-18T15:18:05.2940340+03:00 0HLOBEQAAM26R:00000006 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Registration (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 29.5855ms. (50a9e262)
2019-07-18T15:18:05.2941601+03:00 0HLOBEQAAM26R:00000006 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:18:05.2944220+03:00 0HLOBEQAAM26R:00000006 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Registration (WebAPI)" in 31.0521ms (afa2e885)
2019-07-18T15:18:05.2945254+03:00 0HLOBEQAAM26R:00000006 [INF] Request finished in 32.2585ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:14.6315624+03:00 0HLOBEQAAM26R:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:18:14.6320252+03:00 0HLOBEQAAM26R:00000007 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:14.6322379+03:00 0HLOBEQAAM26R:00000007 [INF] Request finished in 2.4461ms 204  (791a596a)
2019-07-18T15:18:14.6448959+03:00 0HLOBEQAAM26R:00000008 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 41 (ca22a1cb)
2019-07-18T15:18:14.6452558+03:00 0HLOBEQAAM26R:00000008 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:18:14.6454024+03:00 0HLOBEQAAM26R:00000008 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:14.6457192+03:00 0HLOBEQAAM26R:00000008 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:14.6466424+03:00 0HLOBEQAAM26R:00000008 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:14.6476707+03:00 0HLOBEQAAM26R:00000008 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:14.6528254+03:00 0HLOBEQAAM26R:00000008 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:14.6674340+03:00 0HLOBEQAAM26R:00000008 [INF] Вход пользователя Tat в систему (a7e7fdcc)
2019-07-18T15:18:14.6710661+03:00 0HLOBEQAAM26R:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:14.6720518+03:00 0HLOBEQAAM26R:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:14.6724241+03:00 0HLOBEQAAM26R:00000008 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 25.6032ms. (50a9e262)
2019-07-18T15:18:14.6725410+03:00 0HLOBEQAAM26R:00000008 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:18:14.6727817+03:00 0HLOBEQAAM26R:00000008 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 26.9572ms (afa2e885)
2019-07-18T15:18:14.6728868+03:00 0HLOBEQAAM26R:00000008 [INF] Request finished in 28.1083ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:27.4039895+03:00 0HLOBEQAAM26R:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:18:27.4047160+03:00 0HLOBEQAAM26R:00000009 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:27.4050124+03:00 0HLOBEQAAM26R:00000009 [INF] Request finished in 1.1194ms 204  (791a596a)
2019-07-18T15:18:27.4135080+03:00 0HLOBEQAAM26R:0000000A [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T15:18:27.4138354+03:00 0HLOBEQAAM26R:0000000A [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:18:27.4139171+03:00 0HLOBEQAAM26R:0000000A [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:27.4141345+03:00 0HLOBEQAAM26R:0000000A [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:27.4146911+03:00 0HLOBEQAAM26R:0000000A [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:27.4152038+03:00 0HLOBEQAAM26R:0000000A [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:27.4165921+03:00 0HLOBEQAAM26R:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:27.4306596+03:00 0HLOBEQAAM26R:0000000A [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T15:18:27.4321641+03:00 0HLOBEQAAM26R:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:27.4333972+03:00 0HLOBEQAAM26R:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:27.4339453+03:00 0HLOBEQAAM26R:0000000A [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.1521ms. (50a9e262)
2019-07-18T15:18:27.4340879+03:00 0HLOBEQAAM26R:0000000A [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:18:27.4342558+03:00 0HLOBEQAAM26R:0000000A [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 20.0535ms (afa2e885)
2019-07-18T15:18:27.4344044+03:00 0HLOBEQAAM26R:0000000A [INF] Request finished in 21.0176ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:27.8379042+03:00 0HLOBEQAAM26R:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:18:27.8382642+03:00 0HLOBEQAAM26R:0000000B [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:27.8383505+03:00 0HLOBEQAAM26R:0000000B [INF] Request finished in 2.3354ms 204  (791a596a)
2019-07-18T15:18:27.8548905+03:00 0HLOBEQAAM26R:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:18:27.8554682+03:00 0HLOBEQAAM26R:0000000C [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:27.8555515+03:00 0HLOBEQAAM26R:0000000C [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:27.8557333+03:00 0HLOBEQAAM26R:0000000C [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:27.8558577+03:00 0HLOBEQAAM26R:0000000C [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:27.8561120+03:00 0HLOBEQAAM26R:0000000C [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:27.8565625+03:00 0HLOBEQAAM26R:0000000C [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:27.8596776+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:18:27.8627514+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:18:27.8660670+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:27.8673963+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:27.8682526+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:27.8693298+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:27.8700560+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:27.8712665+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:27.8721567+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:27.8739823+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:27.8747895+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:27.8756896+03:00 0HLOBEQAAM26R:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:27.8758408+03:00 0HLOBEQAAM26R:0000000C [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.6273ms. (50a9e262)
2019-07-18T15:18:27.8759867+03:00 0HLOBEQAAM26R:0000000C [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:18:27.8761955+03:00 0HLOBEQAAM26R:0000000C [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 20.4013ms (afa2e885)
2019-07-18T15:18:27.8762860+03:00 0HLOBEQAAM26R:0000000C [INF] Request finished in 21.6763ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:34.4642313+03:00 0HLOBEQAAM26R:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/addusertorole   (ca22a1cb)
2019-07-18T15:18:34.4650241+03:00 0HLOBEQAAM26R:0000000D [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:34.4653027+03:00 0HLOBEQAAM26R:0000000D [INF] Request finished in 1.1504ms 204  (791a596a)
2019-07-18T15:18:34.4928813+03:00 0HLOBEQAAM26R:0000000E [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/administrator/addusertorole application/json 70 (ca22a1cb)
2019-07-18T15:18:34.4934402+03:00 0HLOBEQAAM26R:0000000E [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:34.4935163+03:00 0HLOBEQAAM26R:0000000E [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:34.4936737+03:00 0HLOBEQAAM26R:0000000E [INF] Route matched with "{action = \"AddUserToRole\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToRole(WebAPI.Models.UserWithIncludedAndExcludedRolesModel)" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:34.4937929+03:00 0HLOBEQAAM26R:0000000E [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:34.4943439+03:00 0HLOBEQAAM26R:0000000E [INF] Executing action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:34.4947385+03:00 0HLOBEQAAM26R:0000000E [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:34.4959763+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:34.4993461+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:18:34.5042495+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T15:18:34.5058106+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:18:34.5070520+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:34.5084777+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:18:34.5132470+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (0723d8ff)
2019-07-18T15:18:34.5226567+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("9"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:18:34.5243288+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:34.5254419+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:18:34.5272761+03:00 0HLOBEQAAM26R:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:18:34.5281775+03:00 0HLOBEQAAM26R:0000000E [INF] Executed action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 33.7581ms. (50a9e262)
2019-07-18T15:18:34.5282786+03:00 0HLOBEQAAM26R:0000000E [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T15:18:34.5283583+03:00 0HLOBEQAAM26R:0000000E [INF] Executed action "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" in 34.6157ms (afa2e885)
2019-07-18T15:18:34.5284970+03:00 0HLOBEQAAM26R:0000000E [INF] Request finished in 35.6743ms 200  (791a596a)
2019-07-18T15:18:34.5342079+03:00 0HLOBEQAAM26R:0000000F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:18:34.5343811+03:00 0HLOBEQAAM26R:0000000F [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:34.5353281+03:00 0HLOBEQAAM26R:0000000F [INF] Request finished in 1.1725ms 204  (791a596a)
2019-07-18T15:18:34.5416944+03:00 0HLOBEQAAM26R:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:18:34.5422039+03:00 0HLOBEQAAM26R:00000010 [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:34.5422626+03:00 0HLOBEQAAM26R:00000010 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:34.5424266+03:00 0HLOBEQAAM26R:00000010 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:34.5425211+03:00 0HLOBEQAAM26R:00000010 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:34.5427810+03:00 0HLOBEQAAM26R:00000010 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:34.5430935+03:00 0HLOBEQAAM26R:00000010 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:34.5441767+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:18:34.5449092+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:18:34.5460082+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:34.5470319+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:34.5478813+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:34.5489286+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:34.5496848+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:34.5508412+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:34.5521138+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:34.5532309+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:34.5540583+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:34.5549337+03:00 0HLOBEQAAM26R:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:34.5550944+03:00 0HLOBEQAAM26R:00000010 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.2478ms. (50a9e262)
2019-07-18T15:18:34.5552054+03:00 0HLOBEQAAM26R:00000010 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:18:34.5555011+03:00 0HLOBEQAAM26R:00000010 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 13.0214ms (afa2e885)
2019-07-18T15:18:34.5556056+03:00 0HLOBEQAAM26R:00000010 [INF] Request finished in 13.9831ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:46.7124260+03:00 0HLOBEQAAM26R:00000011 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:18:46.7129606+03:00 0HLOBEQAAM26R:00000011 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:46.7131648+03:00 0HLOBEQAAM26R:00000011 [INF] Request finished in 1.0621ms 204  (791a596a)
2019-07-18T15:18:46.7239339+03:00 0HLOBEQAAM26R:00000012 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 41 (ca22a1cb)
2019-07-18T15:18:46.7244585+03:00 0HLOBEQAAM26R:00000012 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:18:46.7245682+03:00 0HLOBEQAAM26R:00000012 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:46.7248567+03:00 0HLOBEQAAM26R:00000012 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:46.7259838+03:00 0HLOBEQAAM26R:00000012 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:46.7266343+03:00 0HLOBEQAAM26R:00000012 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:46.7340163+03:00 0HLOBEQAAM26R:00000012 [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:46.7449191+03:00 0HLOBEQAAM26R:00000012 [INF] Вход пользователя Tat в систему (a7e7fdcc)
2019-07-18T15:18:46.7487841+03:00 0HLOBEQAAM26R:00000012 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:46.7498166+03:00 0HLOBEQAAM26R:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:46.7501855+03:00 0HLOBEQAAM26R:00000012 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.0793ms. (50a9e262)
2019-07-18T15:18:46.7502972+03:00 0HLOBEQAAM26R:00000012 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:18:46.7504401+03:00 0HLOBEQAAM26R:00000012 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 25.4794ms (afa2e885)
2019-07-18T15:18:46.7505356+03:00 0HLOBEQAAM26R:00000012 [INF] Request finished in 28.0602ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:46.7625048+03:00 0HLOBEQAAM26R:00000013 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:18:46.7627683+03:00 0HLOBEQAAM26R:00000013 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:46.7628727+03:00 0HLOBEQAAM26R:00000013 [INF] Request finished in 0.4396ms 204  (791a596a)
2019-07-18T15:18:46.7695072+03:00 0HLOBEQAAM26R:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:18:46.7701902+03:00 0HLOBEQAAM26R:00000014 [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:46.7702923+03:00 0HLOBEQAAM26R:00000014 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:46.7704626+03:00 0HLOBEQAAM26R:00000014 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:46.7705743+03:00 0HLOBEQAAM26R:00000014 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:46.7708542+03:00 0HLOBEQAAM26R:00000014 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:46.7711901+03:00 0HLOBEQAAM26R:00000014 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:46.7724799+03:00 0HLOBEQAAM26R:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:18:46.7728847+03:00 0HLOBEQAAM26R:00000014 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T15:18:46.7729565+03:00 0HLOBEQAAM26R:00000014 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.0449ms. (50a9e262)
2019-07-18T15:18:46.7730510+03:00 0HLOBEQAAM26R:00000014 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T15:18:46.7733840+03:00 0HLOBEQAAM26R:00000014 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 2.8614ms (afa2e885)
2019-07-18T15:18:46.7734788+03:00 0HLOBEQAAM26R:00000014 [INF] Request finished in 4.0398ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:49.1200849+03:00 0HLOBEQAAM26R:00000015 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T15:18:49.1212690+03:00 0HLOBEQAAM26R:00000015 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:49.1215156+03:00 0HLOBEQAAM26R:00000015 [INF] Request finished in 1.4949ms 204  (791a596a)
2019-07-18T15:18:49.1325538+03:00 0HLOBEQAAM26R:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T15:18:49.1330545+03:00 0HLOBEQAAM26R:00000016 [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:49.1331543+03:00 0HLOBEQAAM26R:00000016 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:49.1333743+03:00 0HLOBEQAAM26R:00000016 [INF] Route matched with "{action = \"PrintSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult PrintSubscriber()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:49.1335267+03:00 0HLOBEQAAM26R:00000016 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:49.1338623+03:00 0HLOBEQAAM26R:00000016 [INF] Executing action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:49.1342862+03:00 0HLOBEQAAM26R:00000016 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:49.1356816+03:00 0HLOBEQAAM26R:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:49.1365666+03:00 0HLOBEQAAM26R:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:18:49.2749813+03:00 0HLOBEQAAM26R:00000016 [INF] Executed action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 141.0067ms. (50a9e262)
2019-07-18T15:18:49.2751128+03:00 0HLOBEQAAM26R:00000016 [INF] Executing ObjectResult, writing value of type '"System.Byte[]"'. (8a1b66c8)
2019-07-18T15:18:49.2755218+03:00 0HLOBEQAAM26R:00000016 [INF] Executed action "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" in 142.0715ms (afa2e885)
2019-07-18T15:18:49.2756545+03:00 0HLOBEQAAM26R:00000016 [INF] Request finished in 143.1554ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:54.3655729+03:00 0HLOBEQAAM26R:00000017 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:18:54.3659408+03:00 0HLOBEQAAM26R:00000017 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:54.3663064+03:00 0HLOBEQAAM26R:00000017 [INF] Request finished in 0.7858ms 204  (791a596a)
2019-07-18T15:18:54.3736183+03:00 0HLOBEQAAM26R:00000018 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T15:18:54.3738841+03:00 0HLOBEQAAM26R:00000018 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:18:54.3739526+03:00 0HLOBEQAAM26R:00000018 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:54.3742382+03:00 0HLOBEQAAM26R:00000018 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:54.3750086+03:00 0HLOBEQAAM26R:00000018 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:54.3753820+03:00 0HLOBEQAAM26R:00000018 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:54.3768490+03:00 0HLOBEQAAM26R:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:54.3897710+03:00 0HLOBEQAAM26R:00000018 [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T15:18:54.3914517+03:00 0HLOBEQAAM26R:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:54.3941943+03:00 0HLOBEQAAM26R:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:54.3946119+03:00 0HLOBEQAAM26R:00000018 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.5206ms. (50a9e262)
2019-07-18T15:18:54.3947265+03:00 0HLOBEQAAM26R:00000018 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:18:54.3948730+03:00 0HLOBEQAAM26R:00000018 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 20.5581ms (afa2e885)
2019-07-18T15:18:54.3949675+03:00 0HLOBEQAAM26R:00000018 [INF] Request finished in 21.5363ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:54.4111093+03:00 0HLOBEQAAM26R:00000019 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:18:54.4114225+03:00 0HLOBEQAAM26R:00000019 [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:54.4115477+03:00 0HLOBEQAAM26R:00000019 [INF] Request finished in 0.5417ms 204  (791a596a)
2019-07-18T15:18:54.4209405+03:00 0HLOBEQAAM26R:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:18:54.4225319+03:00 0HLOBEQAAM26R:0000001A [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:54.4228448+03:00 0HLOBEQAAM26R:0000001A [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:54.4244306+03:00 0HLOBEQAAM26R:0000001A [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:54.4245624+03:00 0HLOBEQAAM26R:0000001A [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:54.4249358+03:00 0HLOBEQAAM26R:0000001A [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:54.4253837+03:00 0HLOBEQAAM26R:0000001A [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:54.4281203+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:18:54.4308731+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:18:54.4335039+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:54.4347729+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:54.4355571+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:54.4365122+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:54.4371709+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:54.4379821+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:54.4386273+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:54.4395357+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:54.4405511+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:54.4415869+03:00 0HLOBEQAAM26R:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:54.4417519+03:00 0HLOBEQAAM26R:0000001A [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.7283ms. (50a9e262)
2019-07-18T15:18:54.4419413+03:00 0HLOBEQAAM26R:0000001A [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:18:54.4422074+03:00 0HLOBEQAAM26R:0000001A [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 17.6779ms (afa2e885)
2019-07-18T15:18:54.4423276+03:00 0HLOBEQAAM26R:0000001A [INF] Request finished in 21.4922ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:18:58.7551560+03:00 0HLOBEQAAM26R:0000001B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/addusertorole   (ca22a1cb)
2019-07-18T15:18:58.7556366+03:00 0HLOBEQAAM26R:0000001B [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:58.7561254+03:00 0HLOBEQAAM26R:0000001B [INF] Request finished in 0.9982ms 204  (791a596a)
2019-07-18T15:18:58.7854030+03:00 0HLOBEQAAM26R:0000001C [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/administrator/addusertorole application/json 80 (ca22a1cb)
2019-07-18T15:18:58.7861996+03:00 0HLOBEQAAM26R:0000001C [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:58.7863159+03:00 0HLOBEQAAM26R:0000001C [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:58.7865860+03:00 0HLOBEQAAM26R:0000001C [INF] Route matched with "{action = \"AddUserToRole\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToRole(WebAPI.Models.UserWithIncludedAndExcludedRolesModel)" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:58.7867770+03:00 0HLOBEQAAM26R:0000001C [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:58.7881244+03:00 0HLOBEQAAM26R:0000001C [INF] Executing action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:58.7887189+03:00 0HLOBEQAAM26R:0000001C [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:58.7906182+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:58.7938588+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:18:58.7985539+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T15:18:58.7995898+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:18:58.8007122+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:58.8036939+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:18:58.8066978+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (0723d8ff)
2019-07-18T15:18:58.8116526+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("5"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:18:58.8141540+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:18:58.8166745+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T15:18:58.8257583+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:18:58.8329543+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:18:58.8347572+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:18:58.8390374+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUserRoles]
WHERE [UserId] = @p0 AND [RoleId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:18:58.8397781+03:00 0HLOBEQAAM26R:0000001C [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:18:58.8409066+03:00 0HLOBEQAAM26R:0000001C [INF] Executed action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 52.6744ms. (50a9e262)
2019-07-18T15:18:58.8409813+03:00 0HLOBEQAAM26R:0000001C [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T15:18:58.8410426+03:00 0HLOBEQAAM26R:0000001C [INF] Executed action "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" in 54.3505ms (afa2e885)
2019-07-18T15:18:58.8411575+03:00 0HLOBEQAAM26R:0000001C [INF] Request finished in 55.8761ms 200  (791a596a)
2019-07-18T15:18:58.8483403+03:00 0HLOBEQAAM26R:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:18:58.8486921+03:00 0HLOBEQAAM26R:0000001D [INF] Successfully validated the token. (60169667)
2019-07-18T15:18:58.8487375+03:00 0HLOBEQAAM26R:0000001D [INF] Policy execution successful. (0204925d)
2019-07-18T15:18:58.8488854+03:00 0HLOBEQAAM26R:0000001D [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:18:58.8489770+03:00 0HLOBEQAAM26R:0000001D [INF] Authorization was successful. (0d575a54)
2019-07-18T15:18:58.8492352+03:00 0HLOBEQAAM26R:0000001D [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:18:58.8495204+03:00 0HLOBEQAAM26R:0000001D [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:18:58.8504758+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:18:58.8511039+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:18:58.8521993+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:58.8531761+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:58.8537660+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:58.8548097+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:58.8557122+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:58.8565916+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:58.8573214+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:58.8582620+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:58.8590291+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:18:58.8599084+03:00 0HLOBEQAAM26R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:18:58.8600523+03:00 0HLOBEQAAM26R:0000001D [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.7558ms. (50a9e262)
2019-07-18T15:18:58.8601594+03:00 0HLOBEQAAM26R:0000001D [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:18:58.8603649+03:00 0HLOBEQAAM26R:0000001D [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 11.4165ms (afa2e885)
2019-07-18T15:18:58.8604630+03:00 0HLOBEQAAM26R:0000001D [INF] Request finished in 12.7056ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:08.8462163+03:00 0HLOBEQAAM26R:0000001E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:19:08.8469462+03:00 0HLOBEQAAM26R:0000001E [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:08.8473134+03:00 0HLOBEQAAM26R:0000001E [INF] Request finished in 1.1774ms 204  (791a596a)
2019-07-18T15:19:08.8556667+03:00 0HLOBEQAAM26R:0000001F [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 41 (ca22a1cb)
2019-07-18T15:19:08.8562398+03:00 0HLOBEQAAM26R:0000001F [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:19:08.8563452+03:00 0HLOBEQAAM26R:0000001F [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:08.8566960+03:00 0HLOBEQAAM26R:0000001F [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:08.8576563+03:00 0HLOBEQAAM26R:0000001F [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:08.8584425+03:00 0HLOBEQAAM26R:0000001F [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:08.8608392+03:00 0HLOBEQAAM26R:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:19:08.8762041+03:00 0HLOBEQAAM26R:0000001F [INF] Вход пользователя Tat в систему (a7e7fdcc)
2019-07-18T15:19:08.8775670+03:00 0HLOBEQAAM26R:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:08.8787522+03:00 0HLOBEQAAM26R:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:08.8791228+03:00 0HLOBEQAAM26R:0000001F [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.3308ms. (50a9e262)
2019-07-18T15:19:08.8792506+03:00 0HLOBEQAAM26R:0000001F [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:19:08.8794785+03:00 0HLOBEQAAM26R:0000001F [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 22.6775ms (afa2e885)
2019-07-18T15:19:08.8795882+03:00 0HLOBEQAAM26R:0000001F [INF] Request finished in 24.0045ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:08.8918690+03:00 0HLOBEQAAM26R:00000020 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:19:08.8921799+03:00 0HLOBEQAAM26R:00000020 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:08.8926150+03:00 0HLOBEQAAM26R:00000020 [INF] Request finished in 0.7555ms 204  (791a596a)
2019-07-18T15:19:08.9011527+03:00 0HLOBEQAAM26R:00000021 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:19:08.9019801+03:00 0HLOBEQAAM26R:00000021 [INF] Successfully validated the token. (60169667)
2019-07-18T15:19:08.9022659+03:00 0HLOBEQAAM26R:00000021 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:08.9025673+03:00 0HLOBEQAAM26R:00000021 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:08.9027425+03:00 0HLOBEQAAM26R:00000021 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:19:08.9029988+03:00 0HLOBEQAAM26R:00000021 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:08.9035943+03:00 0HLOBEQAAM26R:00000021 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:08.9049172+03:00 0HLOBEQAAM26R:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:19:08.9053503+03:00 0HLOBEQAAM26R:00000021 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T15:19:08.9054300+03:00 0HLOBEQAAM26R:00000021 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.3664ms. (50a9e262)
2019-07-18T15:19:08.9055907+03:00 0HLOBEQAAM26R:00000021 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T15:19:08.9058855+03:00 0HLOBEQAAM26R:00000021 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 3.2494ms (afa2e885)
2019-07-18T15:19:08.9059780+03:00 0HLOBEQAAM26R:00000021 [INF] Request finished in 4.8962ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:25.9287642+03:00 0HLOBEQAAM26R:00000022 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/updatesubscriber/   (ca22a1cb)
2019-07-18T15:19:25.9290949+03:00 0HLOBEQAAM26R:00000022 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:25.9293156+03:00 0HLOBEQAAM26R:00000022 [INF] Request finished in 0.6761ms 204  (791a596a)
2019-07-18T15:19:25.9380776+03:00 0HLOBEQAAM26R:00000023 [INF] Request starting HTTP/1.1 PUT http://localhost:50038/api/subscribers/updatesubscriber/ application/json 310 (ca22a1cb)
2019-07-18T15:19:25.9386977+03:00 0HLOBEQAAM26R:00000023 [INF] Successfully validated the token. (60169667)
2019-07-18T15:19:25.9387689+03:00 0HLOBEQAAM26R:00000023 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:25.9390768+03:00 0HLOBEQAAM26R:00000023 [INF] Route matched with "{action = \"UpdateSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubscriber(WebAPI.Models.SubscriberModel)" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:25.9392168+03:00 0HLOBEQAAM26R:00000023 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:19:25.9399697+03:00 0HLOBEQAAM26R:00000023 [INF] Executing action method "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:25.9404114+03:00 0HLOBEQAAM26R:00000023 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:25.9419267+03:00 0HLOBEQAAM26R:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:19:25.9448945+03:00 0HLOBEQAAM26R:00000023 [INF] Executed DbCommand ("2"ms) [Parameters=["@__subscriberModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]
WHERE [s].[Id] = @__subscriberModel_Id_0" (0723d8ff)
2019-07-18T15:19:25.9503963+03:00 0HLOBEQAAM26R:00000023 [INF] Executed DbCommand ("4"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (Size = 12), @p4='?' (Size = 200), @p5='?' (Size = 200), @p6='?' (Size = 50), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Subscribers] SET [Address] = @p0, [FIOHead] = @p1, [FullName] = @p2, [INN] = @p3, [Phones] = @p4, [RepresentativePhones] = @p5, [ShortName] = @p6, [SubscriberRepresentative] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:19:25.9515467+03:00 0HLOBEQAAM26R:00000023 [INF] Обновление абонента с идентификатором 2 (7ce339dc)
2019-07-18T15:19:25.9516676+03:00 0HLOBEQAAM26R:00000023 [INF] Executed action method "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 11.5963ms. (50a9e262)
2019-07-18T15:19:25.9517769+03:00 0HLOBEQAAM26R:00000023 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T15:19:25.9519176+03:00 0HLOBEQAAM26R:00000023 [INF] Executed action "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)" in 12.7355ms (afa2e885)
2019-07-18T15:19:25.9521300+03:00 0HLOBEQAAM26R:00000023 [INF] Request finished in 14.1564ms 200  (791a596a)
2019-07-18T15:19:25.9615659+03:00 0HLOBEQAAM26R:00000024 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:19:25.9618373+03:00 0HLOBEQAAM26R:00000024 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:25.9622948+03:00 0HLOBEQAAM26R:00000024 [INF] Request finished in 0.8174ms 204  (791a596a)
2019-07-18T15:19:25.9797955+03:00 0HLOBEQAAM26R:00000025 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:19:25.9809394+03:00 0HLOBEQAAM26R:00000025 [INF] Successfully validated the token. (60169667)
2019-07-18T15:19:25.9810289+03:00 0HLOBEQAAM26R:00000025 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:25.9813178+03:00 0HLOBEQAAM26R:00000025 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:25.9831526+03:00 0HLOBEQAAM26R:00000025 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:19:25.9834780+03:00 0HLOBEQAAM26R:00000025 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:25.9838281+03:00 0HLOBEQAAM26R:00000025 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:25.9846350+03:00 0HLOBEQAAM26R:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:19:25.9856731+03:00 0HLOBEQAAM26R:00000025 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T15:19:25.9857650+03:00 0HLOBEQAAM26R:00000025 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2178ms. (50a9e262)
2019-07-18T15:19:25.9858727+03:00 0HLOBEQAAM26R:00000025 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T15:19:25.9861181+03:00 0HLOBEQAAM26R:00000025 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 4.0283ms (afa2e885)
2019-07-18T15:19:25.9862175+03:00 0HLOBEQAAM26R:00000025 [INF] Request finished in 6.6444ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:33.1501626+03:00 0HLOBEQAAM26R:00000026 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:19:33.1505084+03:00 0HLOBEQAAM26R:00000026 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:33.1507089+03:00 0HLOBEQAAM26R:00000026 [INF] Request finished in 0.6781ms 204  (791a596a)
2019-07-18T15:19:33.1610835+03:00 0HLOBEQAAM26R:00000027 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T15:19:33.1620063+03:00 0HLOBEQAAM26R:00000027 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:19:33.1621568+03:00 0HLOBEQAAM26R:00000027 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:33.1628488+03:00 0HLOBEQAAM26R:00000027 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:33.1662345+03:00 0HLOBEQAAM26R:00000027 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:33.1672714+03:00 0HLOBEQAAM26R:00000027 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:33.1694414+03:00 0HLOBEQAAM26R:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:19:33.1793902+03:00 0HLOBEQAAM26R:00000027 [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T15:19:33.1805179+03:00 0HLOBEQAAM26R:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:33.1816953+03:00 0HLOBEQAAM26R:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:33.1820714+03:00 0HLOBEQAAM26R:00000027 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.7083ms. (50a9e262)
2019-07-18T15:19:33.1822223+03:00 0HLOBEQAAM26R:00000027 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:19:33.1824597+03:00 0HLOBEQAAM26R:00000027 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 19.4903ms (afa2e885)
2019-07-18T15:19:33.1825711+03:00 0HLOBEQAAM26R:00000027 [INF] Request finished in 21.75ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:33.1954750+03:00 0HLOBEQAAM26R:00000028 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:19:33.1958663+03:00 0HLOBEQAAM26R:00000028 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:33.1959743+03:00 0HLOBEQAAM26R:00000028 [INF] Request finished in 0.5576ms 204  (791a596a)
2019-07-18T15:19:33.2017143+03:00 0HLOBEQAAM26R:00000029 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:19:33.2021319+03:00 0HLOBEQAAM26R:00000029 [INF] Successfully validated the token. (60169667)
2019-07-18T15:19:33.2021872+03:00 0HLOBEQAAM26R:00000029 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:33.2023591+03:00 0HLOBEQAAM26R:00000029 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:33.2024497+03:00 0HLOBEQAAM26R:00000029 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:19:33.2027517+03:00 0HLOBEQAAM26R:00000029 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:33.2030794+03:00 0HLOBEQAAM26R:00000029 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:33.2041955+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:19:33.2047719+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:19:33.2057297+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:33.2068000+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:33.2075503+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:33.2086447+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:33.2093789+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:33.2103650+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:33.2112008+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:33.2124774+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:33.2132152+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:33.2140415+03:00 0HLOBEQAAM26R:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:33.2141966+03:00 0HLOBEQAAM26R:00000029 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.3852ms. (50a9e262)
2019-07-18T15:19:33.2143076+03:00 0HLOBEQAAM26R:00000029 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:19:33.2145434+03:00 0HLOBEQAAM26R:00000029 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 12.1233ms (afa2e885)
2019-07-18T15:19:33.2146537+03:00 0HLOBEQAAM26R:00000029 [INF] Request finished in 13.0115ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:37.0070464+03:00 0HLOBEQAAM26R:0000002A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/addusertorole   (ca22a1cb)
2019-07-18T15:19:37.0073672+03:00 0HLOBEQAAM26R:0000002A [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:37.0075839+03:00 0HLOBEQAAM26R:0000002A [INF] Request finished in 1.6224ms 204  (791a596a)
2019-07-18T15:19:37.0296876+03:00 0HLOBEQAAM26R:0000002B [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/administrator/addusertorole application/json 83 (ca22a1cb)
2019-07-18T15:19:37.0304721+03:00 0HLOBEQAAM26R:0000002B [INF] Successfully validated the token. (60169667)
2019-07-18T15:19:37.0306009+03:00 0HLOBEQAAM26R:0000002B [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:37.0309210+03:00 0HLOBEQAAM26R:0000002B [INF] Route matched with "{action = \"AddUserToRole\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToRole(WebAPI.Models.UserWithIncludedAndExcludedRolesModel)" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:37.0311875+03:00 0HLOBEQAAM26R:0000002B [INF] Authorization was successful. (0d575a54)
2019-07-18T15:19:37.0321999+03:00 0HLOBEQAAM26R:0000002B [INF] Executing action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:37.0329495+03:00 0HLOBEQAAM26R:0000002B [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:37.0356455+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:19:37.0377402+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:19:37.0405556+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T15:19:37.0412883+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:19:37.0421091+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:19:37.0430428+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:19:37.0443684+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (0723d8ff)
2019-07-18T15:19:37.0452359+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:19:37.0464430+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:19:37.0484375+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T15:19:37.0506287+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:19:37.0519185+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:19:37.0527579+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:19:37.0543784+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUserRoles]
WHERE [UserId] = @p0 AND [RoleId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:19:37.0553210+03:00 0HLOBEQAAM26R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:19:37.0559161+03:00 0HLOBEQAAM26R:0000002B [INF] Executed action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 23.5618ms. (50a9e262)
2019-07-18T15:19:37.0560024+03:00 0HLOBEQAAM26R:0000002B [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T15:19:37.0560933+03:00 0HLOBEQAAM26R:0000002B [INF] Executed action "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" in 25.0248ms (afa2e885)
2019-07-18T15:19:37.0562188+03:00 0HLOBEQAAM26R:0000002B [INF] Request finished in 26.6697ms 200  (791a596a)
2019-07-18T15:19:37.0633542+03:00 0HLOBEQAAM26R:0000002C [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:19:37.0638735+03:00 0HLOBEQAAM26R:0000002C [INF] Successfully validated the token. (60169667)
2019-07-18T15:19:37.0639427+03:00 0HLOBEQAAM26R:0000002C [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:37.0641091+03:00 0HLOBEQAAM26R:0000002C [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:37.0642109+03:00 0HLOBEQAAM26R:0000002C [INF] Authorization was successful. (0d575a54)
2019-07-18T15:19:37.0645000+03:00 0HLOBEQAAM26R:0000002C [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:37.0648221+03:00 0HLOBEQAAM26R:0000002C [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:37.0678505+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:19:37.0687991+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:19:37.0697716+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:37.0709909+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:37.0716601+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:37.0726073+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:37.0732789+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:37.0741092+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:37.0747105+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:37.0756034+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:37.0762957+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:19:37.0771837+03:00 0HLOBEQAAM26R:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:37.0773381+03:00 0HLOBEQAAM26R:0000002C [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.7665ms. (50a9e262)
2019-07-18T15:19:37.0774481+03:00 0HLOBEQAAM26R:0000002C [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:19:37.0777449+03:00 0HLOBEQAAM26R:0000002C [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 13.5678ms (afa2e885)
2019-07-18T15:19:37.0778522+03:00 0HLOBEQAAM26R:0000002C [INF] Request finished in 14.7423ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:43.9361542+03:00 0HLOBEQAAM26R:0000002D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:19:43.9370764+03:00 0HLOBEQAAM26R:0000002D [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:43.9373165+03:00 0HLOBEQAAM26R:0000002D [INF] Request finished in 1.2779ms 204  (791a596a)
2019-07-18T15:19:43.9464322+03:00 0HLOBEQAAM26R:0000002E [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 41 (ca22a1cb)
2019-07-18T15:19:43.9469322+03:00 0HLOBEQAAM26R:0000002E [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:19:43.9470172+03:00 0HLOBEQAAM26R:0000002E [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:43.9472896+03:00 0HLOBEQAAM26R:0000002E [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:43.9482239+03:00 0HLOBEQAAM26R:0000002E [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:43.9490344+03:00 0HLOBEQAAM26R:0000002E [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:43.9512177+03:00 0HLOBEQAAM26R:0000002E [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:19:43.9737595+03:00 0HLOBEQAAM26R:0000002E [INF] Вход пользователя Tat в систему (a7e7fdcc)
2019-07-18T15:19:43.9751345+03:00 0HLOBEQAAM26R:0000002E [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:43.9760623+03:00 0HLOBEQAAM26R:0000002E [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:19:43.9764144+03:00 0HLOBEQAAM26R:0000002E [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.9005ms. (50a9e262)
2019-07-18T15:19:43.9765369+03:00 0HLOBEQAAM26R:0000002E [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:19:43.9766578+03:00 0HLOBEQAAM26R:0000002E [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 29.267ms (afa2e885)
2019-07-18T15:19:43.9767796+03:00 0HLOBEQAAM26R:0000002E [INF] Request finished in 30.532ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:19:43.9871687+03:00 0HLOBEQAAM26R:0000002F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:19:43.9875669+03:00 0HLOBEQAAM26R:0000002F [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:43.9877181+03:00 0HLOBEQAAM26R:0000002F [INF] Request finished in 0.5971ms 204  (791a596a)
2019-07-18T15:19:43.9936586+03:00 0HLOBEQAAM26R:00000030 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:19:43.9942412+03:00 0HLOBEQAAM26R:00000030 [INF] Successfully validated the token. (60169667)
2019-07-18T15:19:43.9943785+03:00 0HLOBEQAAM26R:00000030 [INF] Policy execution successful. (0204925d)
2019-07-18T15:19:43.9945640+03:00 0HLOBEQAAM26R:00000030 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:19:43.9946941+03:00 0HLOBEQAAM26R:00000030 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:19:43.9949512+03:00 0HLOBEQAAM26R:00000030 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:19:43.9952819+03:00 0HLOBEQAAM26R:00000030 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:19:43.9959390+03:00 0HLOBEQAAM26R:00000030 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:19:43.9963032+03:00 0HLOBEQAAM26R:00000030 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T15:19:43.9963609+03:00 0HLOBEQAAM26R:00000030 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.3427ms. (50a9e262)
2019-07-18T15:19:43.9964429+03:00 0HLOBEQAAM26R:00000030 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T15:19:43.9967403+03:00 0HLOBEQAAM26R:00000030 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 2.1088ms (afa2e885)
2019-07-18T15:19:43.9968312+03:00 0HLOBEQAAM26R:00000030 [INF] Request finished in 3.226ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:20:13.6710731+03:00 0HLOBEQAAM26R:00000031 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/createsubscriber   (ca22a1cb)
2019-07-18T15:20:13.6715042+03:00 0HLOBEQAAM26R:00000031 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:13.6717212+03:00 0HLOBEQAAM26R:00000031 [INF] Request finished in 1.042ms 204  (791a596a)
2019-07-18T15:20:13.6847862+03:00 0HLOBEQAAM26R:00000032 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/subscribers/createsubscriber application/json 173 (ca22a1cb)
2019-07-18T15:20:13.6859495+03:00 0HLOBEQAAM26R:00000032 [INF] Successfully validated the token. (60169667)
2019-07-18T15:20:13.6864142+03:00 0HLOBEQAAM26R:00000032 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:13.6867410+03:00 0HLOBEQAAM26R:00000032 [INF] Route matched with "{action = \"CreateSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSubscriber(WebAPI.Models.SubscriberModel)" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:13.6870578+03:00 0HLOBEQAAM26R:00000032 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:20:13.6880594+03:00 0HLOBEQAAM26R:00000032 [INF] Executing action method "WebAPI.Controllers.SubscribersController.CreateSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:13.6888590+03:00 0HLOBEQAAM26R:00000032 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:13.7004795+03:00 0HLOBEQAAM26R:00000032 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (Size = 12), @p4='?' (Size = 200), @p5='?' (Size = 200), @p6='?' (Size = 50), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Subscribers] ([Address], [FIOHead], [FullName], [INN], [Phones], [RepresentativePhones], [ShortName], [SubscriberRepresentative])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Subscribers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-07-18T15:20:13.7015347+03:00 0HLOBEQAAM26R:00000032 [INF] Добавление нового абонента в систему (a912511e)
2019-07-18T15:20:13.7016197+03:00 0HLOBEQAAM26R:00000032 [INF] Executed action method "WebAPI.Controllers.SubscribersController.CreateSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 13.4545ms. (50a9e262)
2019-07-18T15:20:13.7017033+03:00 0HLOBEQAAM26R:00000032 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T15:20:13.7017610+03:00 0HLOBEQAAM26R:00000032 [INF] Executed action "WebAPI.Controllers.SubscribersController.CreateSubscriber (WebAPI)" in 14.9274ms (afa2e885)
2019-07-18T15:20:13.7019006+03:00 0HLOBEQAAM26R:00000032 [INF] Request finished in 17.3801ms 200  (791a596a)
2019-07-18T15:20:13.7095383+03:00 0HLOBEQAAM26R:00000033 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:20:13.7101667+03:00 0HLOBEQAAM26R:00000033 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:13.7103419+03:00 0HLOBEQAAM26R:00000033 [INF] Request finished in 0.8569ms 204  (791a596a)
2019-07-18T15:20:13.7314553+03:00 0HLOBEQAAM26R:00000034 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:20:13.7320659+03:00 0HLOBEQAAM26R:00000034 [INF] Successfully validated the token. (60169667)
2019-07-18T15:20:13.7321413+03:00 0HLOBEQAAM26R:00000034 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:13.7323982+03:00 0HLOBEQAAM26R:00000034 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:13.7325168+03:00 0HLOBEQAAM26R:00000034 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:20:13.7328902+03:00 0HLOBEQAAM26R:00000034 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:13.7333055+03:00 0HLOBEQAAM26R:00000034 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:13.7347175+03:00 0HLOBEQAAM26R:00000034 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:20:13.7350979+03:00 0HLOBEQAAM26R:00000034 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T15:20:13.7351674+03:00 0HLOBEQAAM26R:00000034 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2024ms. (50a9e262)
2019-07-18T15:20:13.7352804+03:00 0HLOBEQAAM26R:00000034 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T15:20:13.7356120+03:00 0HLOBEQAAM26R:00000034 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 3.1549ms (afa2e885)
2019-07-18T15:20:13.7356911+03:00 0HLOBEQAAM26R:00000034 [INF] Request finished in 4.3ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:20:20.1329783+03:00 0HLOBEQAAM26R:00000035 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:20:20.1333324+03:00 0HLOBEQAAM26R:00000035 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:20.1335399+03:00 0HLOBEQAAM26R:00000035 [INF] Request finished in 1.239ms 204  (791a596a)
2019-07-18T15:20:20.1440189+03:00 0HLOBEQAAM26R:00000036 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T15:20:20.1444335+03:00 0HLOBEQAAM26R:00000036 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:20:20.1445452+03:00 0HLOBEQAAM26R:00000036 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:20.1455480+03:00 0HLOBEQAAM26R:00000036 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:20.1469402+03:00 0HLOBEQAAM26R:00000036 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:20.1487879+03:00 0HLOBEQAAM26R:00000036 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:20.1531952+03:00 0HLOBEQAAM26R:00000036 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:20:20.1640918+03:00 0HLOBEQAAM26R:00000036 [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T15:20:20.1677607+03:00 0HLOBEQAAM26R:00000036 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:20.1688368+03:00 0HLOBEQAAM26R:00000036 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:20.1691994+03:00 0HLOBEQAAM26R:00000036 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.1295ms. (50a9e262)
2019-07-18T15:20:20.1693166+03:00 0HLOBEQAAM26R:00000036 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:20:20.1695689+03:00 0HLOBEQAAM26R:00000036 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 23.8965ms (afa2e885)
2019-07-18T15:20:20.1696835+03:00 0HLOBEQAAM26R:00000036 [INF] Request finished in 25.8338ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:20:20.1814325+03:00 0HLOBEQAAM26R:00000037 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:20:20.1816580+03:00 0HLOBEQAAM26R:00000037 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:20.1818016+03:00 0HLOBEQAAM26R:00000037 [INF] Request finished in 0.4232ms 204  (791a596a)
2019-07-18T15:20:20.1892437+03:00 0HLOBEQAAM26R:00000038 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:20:20.1896448+03:00 0HLOBEQAAM26R:00000038 [INF] Successfully validated the token. (60169667)
2019-07-18T15:20:20.1896985+03:00 0HLOBEQAAM26R:00000038 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:20.1898754+03:00 0HLOBEQAAM26R:00000038 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:20.1899795+03:00 0HLOBEQAAM26R:00000038 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:20:20.1903760+03:00 0HLOBEQAAM26R:00000038 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:20.1908677+03:00 0HLOBEQAAM26R:00000038 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:20.1934502+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:20:20.1965263+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:20:20.1996696+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:20.2006531+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:20.2013161+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:20.2023044+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:20.2034726+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:20.2044478+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:20.2055324+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:20.2063491+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:20.2069331+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:20.2077088+03:00 0HLOBEQAAM26R:00000038 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:20.2079294+03:00 0HLOBEQAAM26R:00000038 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.4197ms. (50a9e262)
2019-07-18T15:20:20.2080523+03:00 0HLOBEQAAM26R:00000038 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:20:20.2082229+03:00 0HLOBEQAAM26R:00000038 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 18.2918ms (afa2e885)
2019-07-18T15:20:20.2083329+03:00 0HLOBEQAAM26R:00000038 [INF] Request finished in 19.1811ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:20:24.3958001+03:00 0HLOBEQAAM26R:00000039 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/addusertorole   (ca22a1cb)
2019-07-18T15:20:24.3964252+03:00 0HLOBEQAAM26R:00000039 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:24.3965293+03:00 0HLOBEQAAM26R:00000039 [INF] Request finished in 0.7851ms 204  (791a596a)
2019-07-18T15:20:24.4077875+03:00 0HLOBEQAAM26R:0000003A [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/administrator/addusertorole application/json 79 (ca22a1cb)
2019-07-18T15:20:24.4083319+03:00 0HLOBEQAAM26R:0000003A [INF] Successfully validated the token. (60169667)
2019-07-18T15:20:24.4083833+03:00 0HLOBEQAAM26R:0000003A [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:24.4086112+03:00 0HLOBEQAAM26R:0000003A [INF] Route matched with "{action = \"AddUserToRole\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToRole(WebAPI.Models.UserWithIncludedAndExcludedRolesModel)" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:24.4087275+03:00 0HLOBEQAAM26R:0000003A [INF] Authorization was successful. (0d575a54)
2019-07-18T15:20:24.4092943+03:00 0HLOBEQAAM26R:0000003A [INF] Executing action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:24.4097244+03:00 0HLOBEQAAM26R:0000003A [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:24.4108772+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:20:24.4138035+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:20:24.4169883+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T15:20:24.4183090+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:20:24.4194976+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:20:24.4224348+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:20:24.4260633+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (0723d8ff)
2019-07-18T15:20:24.4326700+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("6"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:20:24.4358012+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:20:24.4380456+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("0"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T15:20:24.4390495+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T15:20:24.4399450+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:20:24.4408224+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T15:20:24.4438913+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUserRoles]
WHERE [UserId] = @p0 AND [RoleId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:20:24.4447881+03:00 0HLOBEQAAM26R:0000003A [INF] Executed DbCommand ("0"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T15:20:24.4453569+03:00 0HLOBEQAAM26R:0000003A [INF] Executed action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 35.918ms. (50a9e262)
2019-07-18T15:20:24.4454395+03:00 0HLOBEQAAM26R:0000003A [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T15:20:24.4455110+03:00 0HLOBEQAAM26R:0000003A [INF] Executed action "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" in 36.8373ms (afa2e885)
2019-07-18T15:20:24.4456491+03:00 0HLOBEQAAM26R:0000003A [INF] Request finished in 38.483ms 200  (791a596a)
2019-07-18T15:20:24.4525773+03:00 0HLOBEQAAM26R:0000003B [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T15:20:24.4530091+03:00 0HLOBEQAAM26R:0000003B [INF] Successfully validated the token. (60169667)
2019-07-18T15:20:24.4530743+03:00 0HLOBEQAAM26R:0000003B [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:24.4532294+03:00 0HLOBEQAAM26R:0000003B [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:24.4533394+03:00 0HLOBEQAAM26R:0000003B [INF] Authorization was successful. (0d575a54)
2019-07-18T15:20:24.4536025+03:00 0HLOBEQAAM26R:0000003B [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:24.4539642+03:00 0HLOBEQAAM26R:0000003B [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:24.4553883+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T15:20:24.4562973+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T15:20:24.4573829+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:24.4587770+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:24.4601886+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:24.4612755+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:24.4621960+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:24.4631682+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:24.4638395+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:24.4646799+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:24.4653894+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T15:20:24.4665016+03:00 0HLOBEQAAM26R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:24.4668385+03:00 0HLOBEQAAM26R:0000003B [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.0003ms. (50a9e262)
2019-07-18T15:20:24.4670068+03:00 0HLOBEQAAM26R:0000003B [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T15:20:24.4673661+03:00 0HLOBEQAAM26R:0000003B [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 14.0484ms (afa2e885)
2019-07-18T15:20:24.4676619+03:00 0HLOBEQAAM26R:0000003B [INF] Request finished in 15.1553ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:20:32.3665923+03:00 0HLOBEQAAM26R:0000003C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T15:20:32.3670722+03:00 0HLOBEQAAM26R:0000003C [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:32.3672896+03:00 0HLOBEQAAM26R:0000003C [INF] Request finished in 0.799ms 204  (791a596a)
2019-07-18T15:20:32.3774160+03:00 0HLOBEQAAM26R:0000003D [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 41 (ca22a1cb)
2019-07-18T15:20:32.3779331+03:00 0HLOBEQAAM26R:0000003D [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T15:20:32.3784301+03:00 0HLOBEQAAM26R:0000003D [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:32.3787506+03:00 0HLOBEQAAM26R:0000003D [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:32.3797308+03:00 0HLOBEQAAM26R:0000003D [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:32.3804069+03:00 0HLOBEQAAM26R:0000003D [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:32.3830773+03:00 0HLOBEQAAM26R:0000003D [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:20:32.3980424+03:00 0HLOBEQAAM26R:0000003D [INF] Вход пользователя Tat в систему (a7e7fdcc)
2019-07-18T15:20:32.3993456+03:00 0HLOBEQAAM26R:0000003D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:32.4004637+03:00 0HLOBEQAAM26R:0000003D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T15:20:32.4008583+03:00 0HLOBEQAAM26R:0000003D [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20.9886ms. (50a9e262)
2019-07-18T15:20:32.4009828+03:00 0HLOBEQAAM26R:0000003D [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T15:20:32.4011547+03:00 0HLOBEQAAM26R:0000003D [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 22.2823ms (afa2e885)
2019-07-18T15:20:32.4012707+03:00 0HLOBEQAAM26R:0000003D [INF] Request finished in 24.2538ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:20:32.4122101+03:00 0HLOBEQAAM26R:0000003E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:20:32.4125098+03:00 0HLOBEQAAM26R:0000003E [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:32.4126475+03:00 0HLOBEQAAM26R:0000003E [INF] Request finished in 0.468ms 204  (791a596a)
2019-07-18T15:20:32.4194933+03:00 0HLOBEQAAM26R:0000003F [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T15:20:32.4200071+03:00 0HLOBEQAAM26R:0000003F [INF] Successfully validated the token. (60169667)
2019-07-18T15:20:32.4200667+03:00 0HLOBEQAAM26R:0000003F [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:32.4202314+03:00 0HLOBEQAAM26R:0000003F [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:32.4203543+03:00 0HLOBEQAAM26R:0000003F [INF] Authorization was successful. (0d575a54)
2019-07-18T15:20:32.4206481+03:00 0HLOBEQAAM26R:0000003F [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:32.4210567+03:00 0HLOBEQAAM26R:0000003F [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:32.4217797+03:00 0HLOBEQAAM26R:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:20:32.4221654+03:00 0HLOBEQAAM26R:0000003F [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T15:20:32.4222296+03:00 0HLOBEQAAM26R:0000003F [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.4653ms. (50a9e262)
2019-07-18T15:20:32.4223429+03:00 0HLOBEQAAM26R:0000003F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T15:20:32.4226851+03:00 0HLOBEQAAM26R:0000003F [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 2.3937ms (afa2e885)
2019-07-18T15:20:32.4227845+03:00 0HLOBEQAAM26R:0000003F [INF] Request finished in 3.3416ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T15:20:34.1731961+03:00 0HLOBEQAAM26R:00000040 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T15:20:34.1734562+03:00 0HLOBEQAAM26R:00000040 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:34.1735610+03:00 0HLOBEQAAM26R:00000040 [INF] Request finished in 0.437ms 204  (791a596a)
2019-07-18T15:20:34.1791273+03:00 0HLOBEQAAM26R:00000041 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T15:20:34.1798726+03:00 0HLOBEQAAM26R:00000041 [INF] Successfully validated the token. (60169667)
2019-07-18T15:20:34.1799543+03:00 0HLOBEQAAM26R:00000041 [INF] Policy execution successful. (0204925d)
2019-07-18T15:20:34.1801065+03:00 0HLOBEQAAM26R:00000041 [INF] Route matched with "{action = \"PrintSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult PrintSubscriber()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T15:20:34.1802573+03:00 0HLOBEQAAM26R:00000041 [INF] Authorization was successful. (0d575a54)
2019-07-18T15:20:34.1806202+03:00 0HLOBEQAAM26R:00000041 [INF] Executing action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T15:20:34.1810784+03:00 0HLOBEQAAM26R:00000041 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T15:20:34.1825295+03:00 0HLOBEQAAM26R:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T15:20:34.1832524+03:00 0HLOBEQAAM26R:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T15:20:34.3733555+03:00 0HLOBEQAAM26R:00000041 [INF] Executed action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 192.6088ms. (50a9e262)
2019-07-18T15:20:34.3735063+03:00 0HLOBEQAAM26R:00000041 [INF] Executing ObjectResult, writing value of type '"System.Byte[]"'. (8a1b66c8)
2019-07-18T15:20:34.3740639+03:00 0HLOBEQAAM26R:00000041 [INF] Executed action "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" in 193.7701ms (afa2e885)
2019-07-18T15:20:34.3742711+03:00 0HLOBEQAAM26R:00000041 [INF] Request finished in 195.2054ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T16:54:46.4681168+03:00  [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T16:54:46.7002797+03:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2019-07-18T16:54:47.0687087+03:00  [INF] Executed DbCommand ("37"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T16:54:47.1897477+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T16:54:47.1964163+03:00  [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T16:54:47.1992483+03:00  [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-07-18T16:54:47.2311490+03:00  [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T16:54:47.3011885+03:00  [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T16:54:47.3208669+03:00  [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T16:54:47.3888038+03:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T16:54:48.0187971+03:00 0HLOBGTVJ6HE0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/values   (ca22a1cb)
2019-07-18T16:54:48.4096907+03:00 0HLOBGTVJ6HE0:00000001 [INF] Request finished in 393.528ms 404  (791a596a)
2019-07-18T16:55:58.2466560+03:00 0HLOBGTVJ6HE1:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T16:55:58.2500484+03:00 0HLOBGTVJ6HE1:00000001 [INF] Policy execution successful. (0204925d)
2019-07-18T16:55:58.2510916+03:00 0HLOBGTVJ6HE1:00000001 [INF] Request finished in 4.5181ms 204  (791a596a)
2019-07-18T16:55:58.2611847+03:00 0HLOBGTVJ6HE1:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T16:55:58.2622328+03:00 0HLOBGTVJ6HE1:00000002 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T16:55:58.2623605+03:00 0HLOBGTVJ6HE1:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T16:55:58.3089879+03:00 0HLOBGTVJ6HE1:00000002 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T16:55:58.4280432+03:00 0HLOBGTVJ6HE1:00000002 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T16:55:58.4335224+03:00 0HLOBGTVJ6HE1:00000002 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T16:55:58.4390797+03:00 0HLOBGTVJ6HE1:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T16:55:58.4644602+03:00 0HLOBGTVJ6HE1:00000002 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T16:55:58.5277514+03:00 0HLOBGTVJ6HE1:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T16:55:58.5404442+03:00 0HLOBGTVJ6HE1:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T16:55:58.5701077+03:00 0HLOBGTVJ6HE1:00000002 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 135.1702ms. (50a9e262)
2019-07-18T16:55:58.5864418+03:00 0HLOBGTVJ6HE1:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T16:55:58.6088010+03:00 0HLOBGTVJ6HE1:00000002 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 296.2437ms (afa2e885)
2019-07-18T16:55:58.6147460+03:00 0HLOBGTVJ6HE1:00000002 [INF] Request finished in 353.8481ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T16:55:58.8316405+03:00 0HLOBGTVJ6HE1:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T16:55:58.8320554+03:00 0HLOBGTVJ6HE1:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T16:55:58.8323753+03:00 0HLOBGTVJ6HE1:00000003 [INF] Request finished in 0.8079ms 204  (791a596a)
2019-07-18T16:55:58.8623758+03:00 0HLOBGTVJ6HE1:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T16:55:58.8754939+03:00 0HLOBGTVJ6HE1:00000004 [INF] Successfully validated the token. (60169667)
2019-07-18T16:55:58.8764052+03:00 0HLOBGTVJ6HE1:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T16:55:58.8789544+03:00 0HLOBGTVJ6HE1:00000004 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T16:55:58.8899089+03:00 0HLOBGTVJ6HE1:00000004 [INF] Authorization was successful. (0d575a54)
2019-07-18T16:55:58.8907119+03:00 0HLOBGTVJ6HE1:00000004 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T16:55:58.8920510+03:00 0HLOBGTVJ6HE1:00000004 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T16:55:58.9014927+03:00 0HLOBGTVJ6HE1:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T16:55:58.9392106+03:00 0HLOBGTVJ6HE1:00000004 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T16:55:58.9393844+03:00 0HLOBGTVJ6HE1:00000004 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.5899ms. (50a9e262)
2019-07-18T16:55:58.9398646+03:00 0HLOBGTVJ6HE1:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T16:55:58.9458009+03:00 0HLOBGTVJ6HE1:00000004 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 66.779ms (afa2e885)
2019-07-18T16:55:58.9459540+03:00 0HLOBGTVJ6HE1:00000004 [INF] Request finished in 83.6951ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:05:40.6805169+03:00 0HLOBGTVJ6HE2:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T17:05:40.6829731+03:00 0HLOBGTVJ6HE2:00000001 [INF] Policy execution successful. (0204925d)
2019-07-18T17:05:40.6833615+03:00 0HLOBGTVJ6HE2:00000001 [INF] Request finished in 2.9289ms 204  (791a596a)
2019-07-18T17:05:40.6937494+03:00 0HLOBGTVJ6HE2:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T17:05:40.6948857+03:00 0HLOBGTVJ6HE2:00000002 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T17:05:40.6949772+03:00 0HLOBGTVJ6HE2:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T17:05:40.6953392+03:00 0HLOBGTVJ6HE2:00000002 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T17:05:40.6978314+03:00 0HLOBGTVJ6HE2:00000002 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:05:40.6994044+03:00 0HLOBGTVJ6HE2:00000002 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:05:40.7346338+03:00 0HLOBGTVJ6HE2:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:05:40.7568782+03:00 0HLOBGTVJ6HE2:00000002 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T17:05:40.7611986+03:00 0HLOBGTVJ6HE2:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:05:40.7652603+03:00 0HLOBGTVJ6HE2:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:05:40.7666077+03:00 0HLOBGTVJ6HE2:00000002 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 68.3497ms. (50a9e262)
2019-07-18T17:05:40.7669512+03:00 0HLOBGTVJ6HE2:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T17:05:40.7674397+03:00 0HLOBGTVJ6HE2:00000002 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 71.9808ms (afa2e885)
2019-07-18T17:05:40.7678678+03:00 0HLOBGTVJ6HE2:00000002 [INF] Request finished in 74.2735ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:05:40.7960482+03:00 0HLOBGTVJ6HE2:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T17:05:40.7963518+03:00 0HLOBGTVJ6HE2:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T17:05:40.7965043+03:00 0HLOBGTVJ6HE2:00000003 [INF] Request finished in 0.5236ms 204  (791a596a)
2019-07-18T17:05:40.8239513+03:00 0HLOBGTVJ6HE2:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T17:05:40.8249756+03:00 0HLOBGTVJ6HE2:00000004 [INF] Successfully validated the token. (60169667)
2019-07-18T17:05:40.8252486+03:00 0HLOBGTVJ6HE2:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T17:05:40.8254337+03:00 0HLOBGTVJ6HE2:00000004 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T17:05:40.8258941+03:00 0HLOBGTVJ6HE2:00000004 [INF] Authorization was successful. (0d575a54)
2019-07-18T17:05:40.8261738+03:00 0HLOBGTVJ6HE2:00000004 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:05:40.8265193+03:00 0HLOBGTVJ6HE2:00000004 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:05:40.8279487+03:00 0HLOBGTVJ6HE2:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T17:05:40.8283913+03:00 0HLOBGTVJ6HE2:00000004 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T17:05:40.8284585+03:00 0HLOBGTVJ6HE2:00000004 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2271ms. (50a9e262)
2019-07-18T17:05:40.8285544+03:00 0HLOBGTVJ6HE2:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T17:05:40.8288801+03:00 0HLOBGTVJ6HE2:00000004 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 3.3897ms (afa2e885)
2019-07-18T17:05:40.8289766+03:00 0HLOBGTVJ6HE2:00000004 [INF] Request finished in 5.3579ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:06:19.2061591+03:00 0HLOBGTVJ6HE2:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T17:06:19.2063784+03:00 0HLOBGTVJ6HE2:00000005 [INF] Policy execution successful. (0204925d)
2019-07-18T17:06:19.2069825+03:00 0HLOBGTVJ6HE2:00000005 [INF] Request finished in 0.5147ms 204  (791a596a)
2019-07-18T17:06:19.2402300+03:00 0HLOBGTVJ6HE2:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/printsubscriber   (ca22a1cb)
2019-07-18T17:06:19.2407405+03:00 0HLOBGTVJ6HE2:00000006 [INF] Successfully validated the token. (60169667)
2019-07-18T17:06:19.2407932+03:00 0HLOBGTVJ6HE2:00000006 [INF] Policy execution successful. (0204925d)
2019-07-18T17:06:19.2428335+03:00 0HLOBGTVJ6HE2:00000006 [INF] Route matched with "{action = \"PrintSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult PrintSubscriber()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T17:06:19.2429933+03:00 0HLOBGTVJ6HE2:00000006 [INF] Authorization was successful. (0d575a54)
2019-07-18T17:06:19.2432647+03:00 0HLOBGTVJ6HE2:00000006 [INF] Executing action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:06:19.2852003+03:00 0HLOBGTVJ6HE2:00000006 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:06:19.2934178+03:00 0HLOBGTVJ6HE2:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:06:19.2984890+03:00 0HLOBGTVJ6HE2:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T17:06:25.2967227+03:00 0HLOBGTVJ6HE2:00000006 [INF] Executed action method "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6053.5197ms. (50a9e262)
2019-07-18T17:06:25.2971018+03:00 0HLOBGTVJ6HE2:00000006 [INF] Executing ObjectResult, writing value of type '"System.Byte[]"'. (8a1b66c8)
2019-07-18T17:06:25.2992886+03:00 0HLOBGTVJ6HE2:00000006 [INF] Executed action "WebAPI.Controllers.SubscribersController.PrintSubscriber (WebAPI)" in 6056.5146ms (afa2e885)
2019-07-18T17:06:25.2994394+03:00 0HLOBGTVJ6HE2:00000006 [INF] Request finished in 6059.4485ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:08:33.0553398+03:00 0HLOBGTVJ6HE3:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/updatesubscriber/   (ca22a1cb)
2019-07-18T17:08:33.0570076+03:00 0HLOBGTVJ6HE3:00000001 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:33.0572490+03:00 0HLOBGTVJ6HE3:00000001 [INF] Request finished in 2.0163ms 204  (791a596a)
2019-07-18T17:08:33.0932148+03:00 0HLOBGTVJ6HE3:00000002 [INF] Request starting HTTP/1.1 PUT http://localhost:50038/api/subscribers/updatesubscriber/ application/json 320 (ca22a1cb)
2019-07-18T17:08:33.0939344+03:00 0HLOBGTVJ6HE3:00000002 [INF] Successfully validated the token. (60169667)
2019-07-18T17:08:33.0939960+03:00 0HLOBGTVJ6HE3:00000002 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:33.1015247+03:00 0HLOBGTVJ6HE3:00000002 [INF] Route matched with "{action = \"UpdateSubscriber\", controller = \"Subscribers\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubscriber(WebAPI.Models.SubscriberModel)" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T17:08:33.1017875+03:00 0HLOBGTVJ6HE3:00000002 [INF] Authorization was successful. (0d575a54)
2019-07-18T17:08:33.1146174+03:00 0HLOBGTVJ6HE3:00000002 [INF] Executing action method "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:08:33.1234952+03:00 0HLOBGTVJ6HE3:00000002 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:08:33.1315815+03:00 0HLOBGTVJ6HE3:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:08:33.1512718+03:00 0HLOBGTVJ6HE3:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__subscriberModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]
WHERE [s].[Id] = @__subscriberModel_Id_0" (0723d8ff)
2019-07-18T17:08:33.2605326+03:00 0HLOBGTVJ6HE3:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (Size = 4000), @p3='?' (Size = 12), @p4='?' (Size = 200), @p5='?' (Size = 200), @p6='?' (Size = 50), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Subscribers] SET [Address] = @p0, [FIOHead] = @p1, [FullName] = @p2, [INN] = @p3, [Phones] = @p4, [RepresentativePhones] = @p5, [ShortName] = @p6, [SubscriberRepresentative] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T17:08:33.2785387+03:00 0HLOBGTVJ6HE3:00000002 [INF] Обновление абонента с идентификатором 2 (7ce339dc)
2019-07-18T17:08:33.2786773+03:00 0HLOBGTVJ6HE3:00000002 [INF] Executed action method "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 163.9342ms. (50a9e262)
2019-07-18T17:08:33.2821075+03:00 0HLOBGTVJ6HE3:00000002 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T17:08:33.2822873+03:00 0HLOBGTVJ6HE3:00000002 [INF] Executed action "WebAPI.Controllers.SubscribersController.UpdateSubscriber (WebAPI)" in 180.6593ms (afa2e885)
2019-07-18T17:08:33.2824704+03:00 0HLOBGTVJ6HE3:00000002 [INF] Request finished in 189.3698ms 200  (791a596a)
2019-07-18T17:08:33.2936117+03:00 0HLOBGTVJ6HE3:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T17:08:33.2941845+03:00 0HLOBGTVJ6HE3:00000003 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:33.2945254+03:00 0HLOBGTVJ6HE3:00000003 [INF] Request finished in 1.1886ms 204  (791a596a)
2019-07-18T17:08:33.3194337+03:00 0HLOBGTVJ6HE3:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T17:08:33.3201978+03:00 0HLOBGTVJ6HE3:00000004 [INF] Successfully validated the token. (60169667)
2019-07-18T17:08:33.3203309+03:00 0HLOBGTVJ6HE3:00000004 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:33.3205103+03:00 0HLOBGTVJ6HE3:00000004 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T17:08:33.3206671+03:00 0HLOBGTVJ6HE3:00000004 [INF] Authorization was successful. (0d575a54)
2019-07-18T17:08:33.3209488+03:00 0HLOBGTVJ6HE3:00000004 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:08:33.3215844+03:00 0HLOBGTVJ6HE3:00000004 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:08:33.3228461+03:00 0HLOBGTVJ6HE3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T17:08:33.3233687+03:00 0HLOBGTVJ6HE3:00000004 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T17:08:33.3235212+03:00 0HLOBGTVJ6HE3:00000004 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.504ms. (50a9e262)
2019-07-18T17:08:33.3236263+03:00 0HLOBGTVJ6HE3:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T17:08:33.3240281+03:00 0HLOBGTVJ6HE3:00000004 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 3.4371ms (afa2e885)
2019-07-18T17:08:33.3241180+03:00 0HLOBGTVJ6HE3:00000004 [INF] Request finished in 4.9785ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:08:59.3148740+03:00 0HLOBGTVJ6HE3:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T17:08:59.3160975+03:00 0HLOBGTVJ6HE3:00000005 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:59.3164088+03:00 0HLOBGTVJ6HE3:00000005 [INF] Request finished in 1.7607ms 204  (791a596a)
2019-07-18T17:08:59.3228882+03:00 0HLOBGTVJ6HE3:00000006 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 48 (ca22a1cb)
2019-07-18T17:08:59.3232364+03:00 0HLOBGTVJ6HE3:00000006 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T17:08:59.3233042+03:00 0HLOBGTVJ6HE3:00000006 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:59.3234827+03:00 0HLOBGTVJ6HE3:00000006 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T17:08:59.3241071+03:00 0HLOBGTVJ6HE3:00000006 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:08:59.3245642+03:00 0HLOBGTVJ6HE3:00000006 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:08:59.3257327+03:00 0HLOBGTVJ6HE3:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:08:59.3432007+03:00 0HLOBGTVJ6HE3:00000006 [INF] Вход пользователя Administrator в систему (6014ba4b)
2019-07-18T17:08:59.3448408+03:00 0HLOBGTVJ6HE3:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:08:59.3460996+03:00 0HLOBGTVJ6HE3:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:08:59.3465077+03:00 0HLOBGTVJ6HE3:00000006 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.2994ms. (50a9e262)
2019-07-18T17:08:59.3466232+03:00 0HLOBGTVJ6HE3:00000006 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T17:08:59.3468913+03:00 0HLOBGTVJ6HE3:00000006 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 23.3339ms (afa2e885)
2019-07-18T17:08:59.3470195+03:00 0HLOBGTVJ6HE3:00000006 [INF] Request finished in 24.2235ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:08:59.9292928+03:00 0HLOBGTVJ6HE3:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T17:08:59.9294904+03:00 0HLOBGTVJ6HE3:00000007 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:59.9295810+03:00 0HLOBGTVJ6HE3:00000007 [INF] Request finished in 0.6037ms 204  (791a596a)
2019-07-18T17:08:59.9474036+03:00 0HLOBGTVJ6HE3:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T17:08:59.9484708+03:00 0HLOBGTVJ6HE3:00000008 [INF] Successfully validated the token. (60169667)
2019-07-18T17:08:59.9485594+03:00 0HLOBGTVJ6HE3:00000008 [INF] Policy execution successful. (0204925d)
2019-07-18T17:08:59.9548356+03:00 0HLOBGTVJ6HE3:00000008 [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T17:08:59.9552054+03:00 0HLOBGTVJ6HE3:00000008 [INF] Authorization was successful. (0d575a54)
2019-07-18T17:08:59.9567945+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:08:59.9650033+03:00 0HLOBGTVJ6HE3:00000008 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:09:00.0017187+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T17:09:00.0645891+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T17:09:00.0936683+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("12"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:09:00.1152030+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:09:00.1282937+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("12"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:09:00.1354858+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:09:00.1439529+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:09:00.1595007+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:09:00.1724881+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("12"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:09:00.1998636+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("24"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:09:00.2161446+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("15"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:09:00.2313599+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:09:00.2319837+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 275.0351ms. (50a9e262)
2019-07-18T17:09:00.2322076+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T17:09:00.2398503+03:00 0HLOBGTVJ6HE3:00000008 [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 284.6945ms (afa2e885)
2019-07-18T17:09:00.2400637+03:00 0HLOBGTVJ6HE3:00000008 [INF] Request finished in 292.7597ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:09:37.5032420+03:00 0HLOBGTVJ6HE3:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getroles   (ca22a1cb)
2019-07-18T17:09:37.5034600+03:00 0HLOBGTVJ6HE3:00000009 [INF] Policy execution successful. (0204925d)
2019-07-18T17:09:37.5035694+03:00 0HLOBGTVJ6HE3:00000009 [INF] Request finished in 0.4331ms 204  (791a596a)
2019-07-18T17:09:37.5109935+03:00 0HLOBGTVJ6HE3:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getroles   (ca22a1cb)
2019-07-18T17:09:37.5116252+03:00 0HLOBGTVJ6HE3:0000000A [INF] Successfully validated the token. (60169667)
2019-07-18T17:09:37.5129998+03:00 0HLOBGTVJ6HE3:0000000A [INF] Policy execution successful. (0204925d)
2019-07-18T17:09:37.5189708+03:00 0HLOBGTVJ6HE3:0000000A [INF] Route matched with "{action = \"GetRoles\", controller = \"Administrator\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetRoles()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T17:09:37.5192122+03:00 0HLOBGTVJ6HE3:0000000A [INF] Authorization was successful. (0d575a54)
2019-07-18T17:09:37.5194612+03:00 0HLOBGTVJ6HE3:0000000A [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetRoles (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:09:37.5209844+03:00 0HLOBGTVJ6HE3:0000000A [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:09:37.5317987+03:00 0HLOBGTVJ6HE3:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T17:09:37.5374736+03:00 0HLOBGTVJ6HE3:0000000A [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetRoles (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.7971ms. (50a9e262)
2019-07-18T17:09:37.5379531+03:00 0HLOBGTVJ6HE3:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.RoleViewModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T17:09:37.5441407+03:00 0HLOBGTVJ6HE3:0000000A [INF] Executed action "WebAPI.Controllers.AdministratorController.GetRoles (WebAPI)" in 24.9678ms (afa2e885)
2019-07-18T17:09:37.5444701+03:00 0HLOBGTVJ6HE3:0000000A [INF] Request finished in 33.5044ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:10:24.2668007+03:00 0HLOBGTVJ6HE3:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/addusertorole   (ca22a1cb)
2019-07-18T17:10:24.2673652+03:00 0HLOBGTVJ6HE3:0000000B [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:24.2677175+03:00 0HLOBGTVJ6HE3:0000000B [INF] Request finished in 1.0746ms 204  (791a596a)
2019-07-18T17:10:24.2865845+03:00 0HLOBGTVJ6HE3:0000000C [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/administrator/addusertorole application/json 85 (ca22a1cb)
2019-07-18T17:10:24.2869485+03:00 0HLOBGTVJ6HE3:0000000C [INF] Successfully validated the token. (60169667)
2019-07-18T17:10:24.2869992+03:00 0HLOBGTVJ6HE3:0000000C [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:24.2917451+03:00 0HLOBGTVJ6HE3:0000000C [INF] Route matched with "{action = \"AddUserToRole\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserToRole(WebAPI.Models.UserWithIncludedAndExcludedRolesModel)" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T17:10:24.2918485+03:00 0HLOBGTVJ6HE3:0000000C [INF] Authorization was successful. (0d575a54)
2019-07-18T17:10:24.3115279+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executing action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:10:24.3168817+03:00 0HLOBGTVJ6HE3:0000000C [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:10:24.3202074+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:10:24.3414121+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:10:24.3780372+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T17:10:24.4126290+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("12"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T17:10:24.4498758+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T17:10:24.5262136+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("17"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T17:10:24.5661164+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T17:10:24.5740898+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T17:10:24.5857320+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1)" (0723d8ff)
2019-07-18T17:10:24.5897143+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [r].[Id], [r].[CanCreate], [r].[CanEdit], [r].[CanPrint], [r].[CanShow], [r].[ConcurrencyStamp], [r].[DisplayName], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2019-07-18T17:10:24.5930968+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:10:24.6039209+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("9"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2019-07-18T17:10:24.6220663+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUserRoles]
WHERE [UserId] = @p0 AND [RoleId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T17:10:24.6228995+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUserRoles]
WHERE [UserId] = @p0 AND [RoleId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T17:10:24.6243015+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-07-18T17:10:24.6259518+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed action method "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 314.2559ms. (50a9e262)
2019-07-18T17:10:24.6260862+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-07-18T17:10:24.6261705+03:00 0HLOBGTVJ6HE3:0000000C [INF] Executed action "WebAPI.Controllers.AdministratorController.AddUserToRole (WebAPI)" in 334.3641ms (afa2e885)
2019-07-18T17:10:24.6263250+03:00 0HLOBGTVJ6HE3:0000000C [INF] Request finished in 339.8225ms 200  (791a596a)
2019-07-18T17:10:24.6398066+03:00 0HLOBGTVJ6HE3:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T17:10:24.6401221+03:00 0HLOBGTVJ6HE3:0000000D [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:24.6402416+03:00 0HLOBGTVJ6HE3:0000000D [INF] Request finished in 0.5114ms 204  (791a596a)
2019-07-18T17:10:24.6477148+03:00 0HLOBGTVJ6HE3:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/administrator/getusers   (ca22a1cb)
2019-07-18T17:10:24.6482282+03:00 0HLOBGTVJ6HE3:0000000E [INF] Successfully validated the token. (60169667)
2019-07-18T17:10:24.6483046+03:00 0HLOBGTVJ6HE3:0000000E [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:24.6484749+03:00 0HLOBGTVJ6HE3:0000000E [INF] Route matched with "{action = \"GetUsers\", controller = \"Administrator\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "WebAPI.Controllers.AdministratorController" ("WebAPI"). (122b2fdf)
2019-07-18T17:10:24.6485734+03:00 0HLOBGTVJ6HE3:0000000E [INF] Authorization was successful. (0d575a54)
2019-07-18T17:10:24.6491869+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executing action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:10:24.6498123+03:00 0HLOBGTVJ6HE3:0000000E [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:10:24.6515938+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Name] <> N'Admin') OR [r].[Name] IS NULL" (0723d8ff)
2019-07-18T17:10:24.6557688+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE ([u].[UserName] <> N'Administrator') OR [u].[UserName] IS NULL" (0723d8ff)
2019-07-18T17:10:24.6589756+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:10:24.6602957+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:10:24.6611885+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:10:24.6623817+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:10:24.6630868+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:10:24.6640857+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:10:24.6649341+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:10:24.6658026+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:10:24.6668361+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_UserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__user_UserName_0" (0723d8ff)
2019-07-18T17:10:24.6680971+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:10:24.6683662+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed action method "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.044ms. (50a9e262)
2019-07-18T17:10:24.6685704+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`2[[System.Collections.Generic.List`1[[WebAPI.Models.UserAndRoleModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2019-07-18T17:10:24.6690278+03:00 0HLOBGTVJ6HE3:0000000E [INF] Executed action "WebAPI.Controllers.AdministratorController.GetUsers (WebAPI)" in 20.4688ms (afa2e885)
2019-07-18T17:10:24.6693035+03:00 0HLOBGTVJ6HE3:0000000E [INF] Request finished in 21.5728ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:10:44.6953082+03:00 0HLOBGTVJ6HE3:0000000F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/authentication/login   (ca22a1cb)
2019-07-18T17:10:44.6961119+03:00 0HLOBGTVJ6HE3:0000000F [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:44.6963398+03:00 0HLOBGTVJ6HE3:0000000F [INF] Request finished in 1.0904ms 204  (791a596a)
2019-07-18T17:10:44.7185087+03:00 0HLOBGTVJ6HE3:00000010 [INF] Request starting HTTP/1.1 POST http://localhost:50038/api/authentication/login application/json 42 (ca22a1cb)
2019-07-18T17:10:44.7190824+03:00 0HLOBGTVJ6HE3:00000010 [INF] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: null" (48071232)
2019-07-18T17:10:44.7191533+03:00 0HLOBGTVJ6HE3:00000010 [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:44.7193374+03:00 0HLOBGTVJ6HE3:00000010 [INF] Route matched with "{action = \"Login\", controller = \"Authentication\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.LoginModel)" on controller "WebAPI.Controllers.AuthenticationController" ("WebAPI"). (122b2fdf)
2019-07-18T17:10:44.7521794+03:00 0HLOBGTVJ6HE3:00000010 [INF] Executing action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:10:44.7531891+03:00 0HLOBGTVJ6HE3:00000010 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:10:44.7558354+03:00 0HLOBGTVJ6HE3:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-07-18T17:10:44.7725616+03:00 0HLOBGTVJ6HE3:00000010 [INF] Вход пользователя Ivan в систему (40c7592c)
2019-07-18T17:10:44.7740780+03:00 0HLOBGTVJ6HE3:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:10:44.7751799+03:00 0HLOBGTVJ6HE3:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-07-18T17:10:44.7755827+03:00 0HLOBGTVJ6HE3:00000010 [INF] Executed action method "WebAPI.Controllers.AuthenticationController.Login (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23.1811ms. (50a9e262)
2019-07-18T17:10:44.7757066+03:00 0HLOBGTVJ6HE3:00000010 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Microsoft.AspNetCore.Mvc.JsonResult, Microsoft.AspNetCore.Mvc.Formatters.Json, Version=2.1.3.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]"'. (8a1b66c8)
2019-07-18T17:10:44.7759430+03:00 0HLOBGTVJ6HE3:00000010 [INF] Executed action "WebAPI.Controllers.AuthenticationController.Login (WebAPI)" in 56.5195ms (afa2e885)
2019-07-18T17:10:44.7760870+03:00 0HLOBGTVJ6HE3:00000010 [INF] Request finished in 57.9213ms 200 application/json; charset=utf-8 (791a596a)
2019-07-18T17:10:44.7951246+03:00 0HLOBGTVJ6HE3:00000011 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T17:10:44.7953265+03:00 0HLOBGTVJ6HE3:00000011 [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:44.7955396+03:00 0HLOBGTVJ6HE3:00000011 [INF] Request finished in 1.0058ms 204  (791a596a)
2019-07-18T17:10:44.8025713+03:00 0HLOBGTVJ6HE3:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:50038/api/subscribers/getsubscribers   (ca22a1cb)
2019-07-18T17:10:44.8039295+03:00 0HLOBGTVJ6HE3:00000012 [INF] Successfully validated the token. (60169667)
2019-07-18T17:10:44.8041643+03:00 0HLOBGTVJ6HE3:00000012 [INF] Policy execution successful. (0204925d)
2019-07-18T17:10:44.8047367+03:00 0HLOBGTVJ6HE3:00000012 [INF] Route matched with "{action = \"GetSubscribers\", controller = \"Subscribers\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetSubscribers()" on controller "WebAPI.Controllers.SubscribersController" ("WebAPI"). (122b2fdf)
2019-07-18T17:10:44.8050259+03:00 0HLOBGTVJ6HE3:00000012 [INF] Authorization was successful. (0d575a54)
2019-07-18T17:10:44.8057185+03:00 0HLOBGTVJ6HE3:00000012 [INF] Executing action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" - Validation state: Valid (dad538d7)
2019-07-18T17:10:44.8076429+03:00 0HLOBGTVJ6HE3:00000012 [INF] Entity Framework Core "2.1.11-servicing-32099" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2019-07-18T17:10:44.8101518+03:00 0HLOBGTVJ6HE3:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[Address], [s].[FIOHead], [s].[FullName], [s].[INN], [s].[Phones], [s].[RepresentativePhones], [s].[ShortName], [s].[SubscriberRepresentative]
FROM [Subscribers] AS [s]" (0723d8ff)
2019-07-18T17:10:44.8106079+03:00 0HLOBGTVJ6HE3:00000012 [INF] Получение абонентов из базы данных (c6489412)
2019-07-18T17:10:44.8106764+03:00 0HLOBGTVJ6HE3:00000012 [INF] Executed action method "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8072ms. (50a9e262)
2019-07-18T17:10:44.8107723+03:00 0HLOBGTVJ6HE3:00000012 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[WebAPI.Models.SubscriberModel, WebAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-07-18T17:10:44.8110710+03:00 0HLOBGTVJ6HE3:00000012 [INF] Executed action "WebAPI.Controllers.SubscribersController.GetSubscribers (WebAPI)" in 6.1951ms (afa2e885)
2019-07-18T17:10:44.8111612+03:00 0HLOBGTVJ6HE3:00000012 [INF] Request finished in 8.7967ms 200 application/json; charset=utf-8 (791a596a)
